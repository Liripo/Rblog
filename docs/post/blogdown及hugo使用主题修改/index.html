<!DOCTYPE html>
<html lang="Zh-cn">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>blogdown及hugo使用主题修改 | Liripo</title>
    <link rel="shortcut icon" href="../../image/title.svg" type="image/x-icon">
  <script src="../../fontawesome-free-5.11.2-web/fontawesome-free-5.11.2-web/js/all.js" crossorigin="anonymous"></script>

  <style>
  	:root {
  		--pagecolour: #333333;
  		--maintext: #dddddd;
  		--faded: #888888;
  		--highlight: #6BB0DF;
  		--lowlight: #ba68c8;
	}
  </style>
  <link rel="stylesheet" href="../../css/et_book.css" />
  <link rel="stylesheet" href="../../css/search.css" />
  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="alternate" type="application/rss+xml" href="https://liripo.github.io/index.xml" title="Liripo">
  
  <link rel="stylesheet" href="https://fonts.loli.net/css?family=Tangerine">

  
<meta name="twitter:card" content="summary">
<meta property="og:title" content="blogdown及hugo使用主题修改">




</head>


  <body>
    



    <div class="main-content">
      <nav>
  <ul class="menu">
    
    <li><a href="../../">Home</a></li>
    
    <li><a href="../../about/">About</a></li>
    
    <li><a href="../../post/">Posts</a></li>
    
    <li><a href="../../tags/">Tags</a></li>
    
  </ul>
</nav>

      <div>
  <h1>blogdown及hugo使用主题修改</h1>
  <h3>
    16 Aug 2020
  </h3>
   <h5 id="wc">3579 Words|Read in about 8       Min|本文总阅读量<span id="busuanzi_value_page_pv"></span>次</h5>
    </h5>
  <br><br>
</div>


      <main>
        

<aside>
  <div id='anchors-navbar'>
  <i class='fas fa-anchor'></i>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#blogdown">blogdown</a></li>
    <li><a href="#calade-theme">calade theme</a>
      <ul>
        <li><a href="#mathjaxcdn">mathjax改成cdn服务</a></li>
        <li><a href="#url">添加不蒜子统计url访问数</a></li>
        <li><a href="#b">嵌入B站视频</a></li>
        <li><a href="#heading">插入音乐</a></li>
        <li><a href="#heading-1">修改表格样式</a></li>
        <li><a href="#hugo-markdown">hugo markdown</a></li>
        <li><a href="#heading-2">引入谷歌字体</a></li>
        <li><a href="#heading-3">引入行内公式</a></li>
        <li><a href="#table">修改table目录</a></li>
        <li><a href="#heading-4">浮动目录</a></li>
        <li><a href="#heading-5">添加分页</a></li>
        <li><a href="#rss">添加RSS</a></li>
        <li><a href="#heading-6">添加站内搜素</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</aside>

        <h1 id="blogdown">blogdown</h1>
<p><a href="https://github.com/rstudio/blogdown">https://github.com/rstudio/blogdown</a>在bookdown上有书，所以安装使用基本看下文档就知道了。</p>
<p>当然，你也可以选择hugodown。</p>
<h1 id="calade-theme">calade theme</h1>
<p>我使用的是<a href="https://github.com/djnavarro/hugo-calade">https://github.com/djnavarro/hugo-calade</a>这个主题。</p>
<p>hugo以及这个主题，一些默认的设置，比如数学公式，使用rstuio服务，中国比较难以加载。</p>
<h2 id="mathjaxcdn">mathjax改成cdn服务</h2>
<p>在网站根目录下，\layouts\partials\foot_custom.html配置如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!--</span><span style="color:#75715e">
</span><span style="color:#75715e">&lt;script src=&#34;//yihui.name/js/math</span><span style="color:#75715e">-</span><span style="color:#75715e">code.js&#34;&gt;&lt;/script&gt;
</span><span style="color:#75715e">&lt;script async src=&#34;//mathjax.rstudio.com/latest/MathJax.js?config=TeX</span><span style="color:#75715e">-</span><span style="color:#75715e">MML</span><span style="color:#75715e">-</span><span style="color:#75715e">AM_CHTML&#34;&gt;&lt;/script&gt;
</span><span style="color:#75715e"></span><span style="color:#75715e">--&gt;</span>
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ &#34;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">js</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">center-image</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">js</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">relURL</span> <span style="color:#960050;background-color:#1e0010">}</span><span style="color:#960050;background-color:#1e0010">}</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;MathJax-script&#34;</span> <span style="color:#a6e22e">async</span>
  <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js&#34;</span>&gt;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">center</span>&gt;
<span style="color:#75715e">&lt;!--</span><span style="color:#75715e">
</span><span style="color:#75715e">用户名自己修改，加入网站运行时间。
</span><span style="color:#75715e"></span><span style="color:#75715e">--&gt;</span>
Liripo &lt;<span style="color:#f92672">SPAN</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">span_dt_dt</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color: #0196e3;&#34;</span>&gt;&lt;/<span style="color:#f92672">SPAN</span>&gt;
&lt;<span style="color:#f92672">SCRIPT</span> <span style="color:#a6e22e">language</span><span style="color:#f92672">=</span><span style="color:#e6db74">javascript</span>&gt;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">show_date_time</span>(){
window.<span style="color:#a6e22e">setTimeout</span>(<span style="color:#e6db74">&#34;show_date_time()&#34;</span>, <span style="color:#ae81ff">1000</span>);
<span style="color:#a6e22e">BirthDay</span><span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Date(<span style="color:#e6db74">&#34;7/8/2019 00:00:00&#34;</span>);<span style="color:#75715e">//日期自己修改
</span><span style="color:#75715e"></span><span style="color:#a6e22e">today</span><span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Date();
<span style="color:#a6e22e">timeold</span><span style="color:#f92672">=</span>(<span style="color:#a6e22e">today</span>.<span style="color:#a6e22e">getTime</span>()<span style="color:#f92672">-</span><span style="color:#a6e22e">BirthDay</span>.<span style="color:#a6e22e">getTime</span>());
<span style="color:#a6e22e">sectimeold</span><span style="color:#f92672">=</span><span style="color:#a6e22e">timeold</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1000</span>
<span style="color:#a6e22e">secondsold</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">sectimeold</span>);
<span style="color:#a6e22e">msPerDay</span><span style="color:#f92672">=</span><span style="color:#ae81ff">24</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>
<span style="color:#a6e22e">e_daysold</span><span style="color:#f92672">=</span><span style="color:#a6e22e">timeold</span><span style="color:#f92672">/</span><span style="color:#a6e22e">msPerDay</span>
<span style="color:#a6e22e">daysold</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">e_daysold</span>);
<span style="color:#a6e22e">e_hrsold</span><span style="color:#f92672">=</span>(<span style="color:#a6e22e">e_daysold</span><span style="color:#f92672">-</span><span style="color:#a6e22e">daysold</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">24</span>;
<span style="color:#a6e22e">hrsold</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">e_hrsold</span>);
<span style="color:#a6e22e">e_minsold</span><span style="color:#f92672">=</span>(<span style="color:#a6e22e">e_hrsold</span><span style="color:#f92672">-</span><span style="color:#a6e22e">hrsold</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>;
<span style="color:#a6e22e">minsold</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">e_hrsold</span><span style="color:#f92672">-</span><span style="color:#a6e22e">hrsold</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>);
<span style="color:#a6e22e">seconds</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">e_minsold</span><span style="color:#f92672">-</span><span style="color:#a6e22e">minsold</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>);
<span style="color:#a6e22e">span_dt_dt</span>.<span style="color:#a6e22e">innerHTML</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">daysold</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;天&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">hrsold</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;小时&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">minsold</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;分&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">seconds</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;秒&#34;</span>;
}
<span style="color:#a6e22e">show_date_time</span>();
&lt;/<span style="color:#f92672">SCRIPT</span>&gt;
&lt;/<span style="color:#f92672">center</span>&gt;
</code></pre></div><h2 id="url">添加不蒜子统计url访问数</h2>
<p><a href="http://busuanzi.ibruce.info/">不蒜子</a>是 Bruce 开发的一款轻量级的网页计数器,轻量。</p>
<p>可以看下文章:<a href="https://fuckcloudnative.io/posts/hugo-add-busuanzi/">https://fuckcloudnative.io/posts/hugo-add-busuanzi/</a>有说hugo怎么添加不蒜子，并修改初始访问人数，不过我没用。</p>
<p>我在hugo-calade\layouts\partials\footer.html改成如下配置：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">footer</span>&gt;
  <span style="color:#75715e">&lt;!--</span><span style="color:#75715e"> highlight.js </span><span style="color:#75715e">--&gt;</span>
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  <span style="color:#75715e">&lt;!--</span><span style="color:#75715e"> and it&#39;s easy to individually load additional languages </span><span style="color:#75715e">--&gt;</span>
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/r.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/python.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;

  &lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#a6e22e">hljs</span>.<span style="color:#a6e22e">configure</span>({<span style="color:#a6e22e">languages</span><span style="color:#f92672">:</span> []});
  <span style="color:#a6e22e">hljs</span>.<span style="color:#a6e22e">initHighlightingOnLoad</span>();
  &lt;/<span style="color:#f92672">script</span>&gt;
  <span style="color:#75715e">&lt;!--</span><span style="color:#75715e">添加不蒜子</span><span style="color:#75715e">--&gt;</span>
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_container_site_pv&#34;</span>&gt;本站总访问量&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id       </span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_site_pv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;次&lt;/<span style="color:#f92672">span</span>&gt;
  &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_container_site_uv&#34;</span>&gt;
    本站访客数&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_site_uv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;人次
&lt;/<span style="color:#f92672">span</span>&gt;
  <span style="color:#75715e">&lt;!--</span><span style="color:#75715e">--&gt;</span>
  {{ partial &#34;foot_custom.html&#34; . }}
  {{ with .Site.Params.footer }}
  &lt;<span style="color:#f92672">br</span>/&gt;&lt;<span style="color:#f92672">br</span>/&gt;
  {{ . | markdownify }}
  &lt;<span style="color:#f92672">br</span>/&gt;&lt;<span style="color:#f92672">br</span>/&gt;
  {{ end }}
&lt;/<span style="color:#f92672">footer</span>&gt;
</code></pre></div><p>在主题目录下，hugo-calade\layouts_default中的single.html(这个文件用于修改文章的html)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.LanguageCode }}&#34;</span>&gt;

  {{ partial &#34;header.html&#34; . }}

  &lt;<span style="color:#f92672">body</span>&gt;
    {{ partial &#34;header_image.html&#34; . }}

    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main-content&#34;</span>&gt;
      {{ partial &#34;menu_strip.html&#34; . }}
      {{ partial &#34;post_title.html&#34; . }}

      &lt;<span style="color:#f92672">main</span>&gt;
        {{ partial &#34;toc.html&#34; . }}
        {{ .Content }}
      &lt;/<span style="color:#f92672">main</span>&gt;

      {{ partial &#34;footer.html&#34; . }}

    &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>可以看到这个文件在body中引入了partial文件夹下的post_title.html等文件，我们修改post_title.html这文件如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">h1</span>&gt;{{ .Title | markdownify }}&lt;/<span style="color:#f92672">h1</span>&gt;
  &lt;<span style="color:#f92672">h3</span>&gt;
    {{ if (gt .Params.date 0) }}{{ .Date.Format &#34;02 Jan 2006&#34; }}{{ end }}
  &lt;/<span style="color:#f92672">h3</span>&gt;
   &lt;<span style="color:#f92672">h5</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wc&#34;</span>&gt;{{ .WordCount }} Words|Read in about {{ .ReadingTime }}       Min|本文总阅读量&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_page_pv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;次&lt;/<span style="color:#f92672">h5</span>&gt;
    &lt;/<span style="color:#f92672">h5</span>&gt;
  &lt;<span style="color:#f92672">br</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p>这样就加入了文章的字数。不过hugo默认不统计中文，所以还需要在站点文件config.toml加入</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">#添加中文计数
hasCJKLanguage = true 
</code></pre></div><p>还有个注意点，就是那些没有缩进的配置应该放在</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">[permalinks]
</code></pre></div><p>等配置前面，才能识别。</p>
<h2 id="b">嵌入B站视频</h2>
<p>参考文章：<a href="https://mogeko.me/2020/079/">https://mogeko.me/2020/079/</a></p>
<p>更多的，可以看这篇文章:<a href="https://www.xiangyunhuang.com.cn/2019/05/another-hello-markdown/">https://www.xiangyunhuang.com.cn/2019/05/another-hello-markdown/</a></p>
<h2 id="heading">插入音乐</h2>
<p><a href="http://tool.liumingye.cn/music/">http://tool.liumingye.cn/music/</a>这网站下歌不错。</p>
<h2 id="heading-1">修改表格样式</h2>
<p>修改主题hugo-calade\static\css下的style.css文件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/* table formatting
</span><span style="color:#75715e">table {
</span><span style="color:#75715e">  margin: auto;
</span><span style="color:#75715e">  border-top: 1px solid #666;
</span><span style="color:#75715e">  border-bottom: 1px solid #666;
</span><span style="color:#75715e">}
</span><span style="color:#75715e">table thead th { border-bottom: 1px solid #ddd; }
</span><span style="color:#75715e">th, td { padding: 5px; }
</span><span style="color:#75715e">thead, tfoot, tr:nth-child(even) { background: #eee; }
</span><span style="color:#75715e">*/</span>
<span style="color:#f92672">table</span> {
  <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#000000</span>;
  <span style="color:#66d9ef">margin</span>: <span style="color:#66d9ef">auto</span>;
  <span style="color:#75715e">/*width: 100%;*/</span>
  <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
  <span style="color:#66d9ef">border-collapse</span>: <span style="color:#66d9ef">collapse</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">td</span><span style="color:#f92672">,</span> <span style="color:#f92672">table</span> <span style="color:#f92672">th</span> {
  <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#000000</span>;
  <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">tbody</span> <span style="color:#f92672">td</span> {
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">18</span><span style="color:#66d9ef">px</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">thead</span> {
  <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#CFCFCF</span>;
  <span style="color:#66d9ef">background</span>: <span style="color:#66d9ef">-moz-</span>linear-gradient(<span style="color:#66d9ef">top</span>, <span style="color:#ae81ff">#dbdbdb</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#d3d3d3</span> <span style="color:#ae81ff">66</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#CFCFCF</span> <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>);
  <span style="color:#66d9ef">background</span>: <span style="color:#66d9ef">-webkit-</span>linear-gradient(<span style="color:#66d9ef">top</span>, <span style="color:#ae81ff">#dbdbdb</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#d3d3d3</span> <span style="color:#ae81ff">66</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#CFCFCF</span> <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>);
  <span style="color:#66d9ef">background</span>: linear-gradient(<span style="color:#66d9ef">to</span> <span style="color:#66d9ef">bottom</span>, <span style="color:#ae81ff">#dbdbdb</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#d3d3d3</span> <span style="color:#ae81ff">66</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#CFCFCF</span> <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>);
  <span style="color:#66d9ef">border-bottom</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#000000</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">thead</span> <span style="color:#f92672">th</span> {
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#000000</span>;
  <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
  <span style="color:#66d9ef">font-family</span>: <span style="color:#e6db74">&#34;Arial Black&#34;</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">tfoot</span> {
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#000000</span>;
  <span style="color:#66d9ef">border-top</span>: <span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#000000</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">tfoot</span> <span style="color:#f92672">td</span> {
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
}
</code></pre></div><h2 id="hugo-markdown">hugo markdown</h2>
<p>hugo markdown是小于pandoc markdown的，所以想加入突出显示得改用html的mark标签。</p>
<p>为了hugo能够解析markdown文件中的html标签，可以在config.toml文件加入</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">[markup.goldmark.renderer]
unsafe = true
</code></pre></div><p>这样就可以增加mark等突出显示的标签了。具体详见：<a href="https://gohugo.io/news/0.60.0-relnotes/">https://gohugo.io/news/0.60.0-relnotes/</a></p>
<h2 id="heading-2">引入谷歌字体</h2>
<p>在主题的footer.html中加入</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://fonts.loli.net/css?family=Tangerine&#34;</span>&gt;
</code></pre></div><p>具体参考<a href="https://sb.sb/blog/css-cdn/">https://sb.sb/blog/css-cdn/</a>,将谷歌字体api，改为使用loli.net,<a href="https://developers.google.com/fonts/docs/getting_started">谷歌api</a>。</p>
<p>之后引入这个字体作为mark的css。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/*加入突出高亮*/</span>
<span style="color:#f92672">mark</span> {
  <span style="color:#66d9ef">font-family</span>: Tangerine;
  <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
  <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#333333</span>;
  <span style="color:#66d9ef">text-shadow</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">#aaa</span>;
}
</code></pre></div><h2 id="heading-3">引入行内公式</h2>
<p>我通常会用符号$作为一个行内数学公式的标识符。但是貌似现在除了Pandoc会解析外，其他都没有这个支持。</p>
<p><a href="https://yihui.org/cn/2017/04/mathjax-markdown/">https://yihui.org/cn/2017/04/mathjax-markdown/</a>提到了怎么修改。</p>
<p><a href="https://gohugo.io/getting-started/configuration-markup/#goldmark">https://gohugo.io/getting-started/configuration-markup/#goldmark</a>hugo配置文件教程。</p>
<p>目前默认使用goldmark渲染markdown。（注：没弄好。）</p>
<h2 id="table">修改table目录</h2>
<p>正如上面goldmark配置链接，默认</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"> [markup.tableOfContents]
    endLevel = 3
    ordered = false
    startLevel = 2
</code></pre></div><p>开始解析是从标题head2 开始，改成1开始。</p>
<h2 id="heading-4">浮动目录</h2>
<p><a href="https://css-tricks.com/css-basics-styling-links-like-boss/">link链接修改</a></p>
<p><a href="https://fakedev.com/2020/hugo-custom-shortcodes-template.html">hugo shortcode</a></p>
<p><a href="https://linuxer.io/posts/hugo-toc/">hugo toc修改</a></p>
<p>对于普通的markdown文件，可以使用{{.TableOfContents}}进行设置，对于这个主题，你可以修改主题文件中的toc.html</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{ if (.Params.toc) }}
&lt;<span style="color:#f92672">aside</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;anchors-navbar&#39;</span>&gt;
  &lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fas fa-anchor&#39;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt;
  {{.TableOfContents}}
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">aside</span>&gt;
{{ end }}
</code></pre></div><p>之后根据class id属性修改css。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSS" data-lang="CSS"><span style="color:#75715e">/* formatting table of contents */</span>
#TableOfContents {
    <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#333399</span>;
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">table</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">75</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span>;
    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">width</span>: <span style="color:#66d9ef">auto</span>;
}
#anchors-navbar {
    <span style="color:#75715e">/*border: 1px solid;*/</span>
    <span style="color:#75715e">/*border-radius: 1px;*/</span>
    <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">box-shadow</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">30</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">teal</span>;
    <span style="color:#75715e">/*box-shadow: 0 6px 12px #333333;*/</span>
    <span style="color:#66d9ef">background-clip</span>: <span style="color:#66d9ef">padding-box</span>;
    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">fixed</span>;
    <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">68</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
    <span style="color:#75715e">/*white-space: nowrap;*/</span>
    <span style="color:#66d9ef">z-index</span>: <span style="color:#ae81ff">999</span>;
    <span style="color:#66d9ef">cursor</span>: <span style="color:#66d9ef">pointer</span>;
    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
    <span style="color:#66d9ef">max-height</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">overflow-y</span>: <span style="color:#66d9ef">auto</span>;
    <span style="color:#66d9ef">overflow-x</span>: <span style="color:#66d9ef">hidden</span>;
    <span style="color:#75715e">/*display: table;*/</span>
    <span style="color:#66d9ef">width</span>: <span style="color:#66d9ef">auto</span>;
    <span style="color:#66d9ef">max-width</span>: <span style="color:#ae81ff">300</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#333399</span>;
}

#anchors-navbar <span style="color:#f92672">ul</span>{
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">none</span>;
    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
    <span style="color:#66d9ef">padding-right</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">18</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">padding-top</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">list-style-type</span>: <span style="color:#66d9ef">lower-greek</span>;
    <span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
}

#anchors-navbar:<span style="color:#a6e22e">hover</span> <span style="color:#f92672">ul</span>{
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
}

#anchors-navbar <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> <span style="color:#f92672">a</span> {
    <span style="color:#66d9ef">text-decoration</span>: <span style="color:#66d9ef">none</span>;
    <span style="color:#66d9ef">border-bottom</span>: <span style="color:#66d9ef">none</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">18</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#ff69b4</span>;
    <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">text-overflow</span>: <span style="color:#66d9ef">ellipsis</span>;
    <span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
    <span style="color:#66d9ef">white-space</span>: <span style="color:#66d9ef">nowrap</span>;
    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
    <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
}

#anchors-navbar <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> <span style="color:#f92672">a</span>:<span style="color:#a6e22e">hover</span> {
    <span style="color:#66d9ef">text-decoration</span>: <span style="color:#66d9ef">underline</span>;
    <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#CCCCCC</span>;
}

#anchors-navbar <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> .<span style="color:#a6e22e">title-icon</span> {
    <span style="color:#66d9ef">padding-right</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span>;
}
.<span style="color:#a6e22e">fa-anchor</span> {
    <span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#FF6600</span>;
    <span style="color:#75715e">/*background-color: #333333;*/</span>
    <span style="color:#66d9ef">text-shadow</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">#ccc</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">em</span>;
}
</code></pre></div><p><strong>加入js</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">iterativeUL</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">$dom</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">li_list</span> <span style="color:#f92672">=</span> []
    <span style="color:#a6e22e">$dom</span>.<span style="color:#a6e22e">children</span>(<span style="color:#e6db74">&#34;li&#34;</span>).<span style="color:#a6e22e">each</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">item</span>) {
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_li</span> <span style="color:#f92672">=</span> { 
            <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">$</span>(<span style="color:#a6e22e">item</span>).<span style="color:#a6e22e">children</span>(<span style="color:#e6db74">&#34;a&#34;</span>).<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;href&#34;</span>), 
            <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">$</span>(<span style="color:#a6e22e">item</span>).<span style="color:#a6e22e">children</span>(<span style="color:#e6db74">&#34;a&#34;</span>).<span style="color:#a6e22e">text</span>(),
            <span style="color:#a6e22e">children</span><span style="color:#f92672">:</span> []
        }   
        <span style="color:#a6e22e">$sub_ul</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#a6e22e">item</span>).<span style="color:#a6e22e">children</span>(<span style="color:#e6db74">&#34;ul&#34;</span>)
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">$sub_ul</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#a6e22e">_li</span>.<span style="color:#a6e22e">children</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">iterativeUL</span>(<span style="color:#a6e22e">$sub_ul</span>)
        }   
        <span style="color:#a6e22e">li_list</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">_li</span>)
    })  
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">li_list</span>
};
<span style="color:#a6e22e">iterativeUI</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">root</span>, <span style="color:#a6e22e">template</span>, <span style="color:#a6e22e">prefix</span>) {
    <span style="color:#a6e22e">template</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;&lt;ul&gt;&#34;</span>
    <span style="color:#a6e22e">$</span>.<span style="color:#a6e22e">each</span>(<span style="color:#a6e22e">root</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">item</span>) {
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">next_prefix</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">prefix</span> <span style="color:#f92672">+</span> String(<span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;.&#34;</span> 
        <span style="color:#a6e22e">template</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#39;&lt;li&gt;&#39;</span><span style="color:#f92672">+</span>
                        <span style="color:#e6db74">&#39;&lt;i class=&#34;fa fa-hand-o-right&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;&#39;</span><span style="color:#f92672">+</span>
                        <span style="color:#e6db74">&#39;&lt;span class=&#34;title-icon &#34;&gt;&lt;/span&gt;&#39;</span><span style="color:#f92672">+</span>
                        <span style="color:#e6db74">&#39;&lt;a href=&#34;99991997&#34;&gt;&lt;b&gt;99991998  &lt;/b&gt;99991999&lt;/a&gt;&#39;</span>
                           .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;99991997&#34;</span>, <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">url</span>)
                           .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;99991999&#34;</span>, <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">name</span>)
                           .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;99991998&#34;</span>, <span style="color:#a6e22e">next_prefix</span>) <span style="color:#f92672">+</span>
                    <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span>
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">children</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#a6e22e">template</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">iterativeUI</span>(<span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">children</span>, <span style="color:#a6e22e">template</span>, <span style="color:#a6e22e">next_prefix</span>)
        }   
    })  
    <span style="color:#a6e22e">template</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;&lt;/ul&gt;&#34;</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">template</span>
};
<span style="color:#a6e22e">initNavigations</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>() {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">$navigations</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#TableOfContents&#34;</span>);
    <span style="color:#75715e">/* 这是个大坑, 需要大于号&gt;来限制只选择一级子元素，否则会有多组ul被匹配到 */</span>
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">root</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">iterativeUL</span>(<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#TableOfContents &gt; ul&#34;</span>))
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">root</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>) {
        <span style="color:#66d9ef">return</span>;
    }

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">html</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">iterativeUI</span>(<span style="color:#a6e22e">root</span>, <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>)

    <span style="color:#75715e">//重新替换Toc模板
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">$navigations</span>.<span style="color:#a6e22e">html</span>(<span style="color:#a6e22e">html</span>)

    <span style="color:#75715e">//由于导航栏固定,所以调整目录锚点往上偏移导航栏高度的距离
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">fixSet</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#main-navbar&#34;</span>).<span style="color:#a6e22e">height</span>() <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span>; 
    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;nav#TableOfContents a[href^=&#34;#&#34;][href!=&#34;#&#34;]&#39;</span>).<span style="color:#a6e22e">click</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">e</span>) {
        <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">preventDefault</span>();
        <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;html, body&#39;</span>).<span style="color:#a6e22e">animate</span>({<span style="color:#a6e22e">scrollTop</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">$</span>(decodeURI(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">hash</span>)).<span style="color:#a6e22e">offset</span>().<span style="color:#a6e22e">top</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">fixSet</span>}, <span style="color:#ae81ff">400</span>);
    }); 
};
</code></pre></div><p>至于Rmarkdown,你可以修改后缀名.Rmd为.Rmarkdown,这两个区别见<a href="https://bookdown.org/yihui/blogdown/output-format.html">https://bookdown.org/yihui/blogdown/output-format.html</a></p>
<p>或者knitr编译成.md文件，然后由hugo解析。</p>
<p><a href="http://estebanmoro.org/post/2019-02-04-setting-up-your-blog-with-rstudio-and-blogdown-iii-modify-your-theme/">http://estebanmoro.org/post/2019-02-04-setting-up-your-blog-with-rstudio-and-blogdown-iii-modify-your-theme/</a></p>
<p><a href="https://dadascience.design/post/r-some-tricks-when-working-with-blogdown-hugo-working-draft/">https://dadascience.design/post/r-some-tricks-when-working-with-blogdown-hugo-working-draft/</a></p>
<p>当然，最好的方法是直接修改blogdown的pandoc模板，blogdown运行<code>blogdown::serve_site</code>等函数使用bloddown::html_page直接生成.html文件的，中间是使用pandoc进行markdown解析的。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">blogdown<span style="color:#f92672">:::</span><span style="color:#a6e22e">pkg_file</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">resources&#39;</span>, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">template-minimal.html&#39;</span>)
</code></pre></div><p>可以找到这个简单的模板文件。</p>
<p>原来的：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">$</span><span style="color:#a6e22e">if</span>(toc)<span style="color:#f92672">$</span>
<span style="color:#f92672">&lt;</span>div id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">$idprefix$TOC&#34;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">$</span>toc<span style="color:#f92672">$</span>
<span style="color:#f92672">$</span>endif<span style="color:#f92672">$</span>
</code></pre></div><p>可以加上刚刚使用toc float的类</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">$</span><span style="color:#a6e22e">if</span>(toc)<span style="color:#f92672">$</span>
<span style="color:#f92672">&lt;</span>aside<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span>div id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">anchors-navbar&#39;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span>i class<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">fas fa-anchor&#39;</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">/</span>i<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span>div id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">$idprefix$TOC&#34;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">$</span>toc<span style="color:#f92672">$</span>
<span style="color:#f92672">&lt;</span><span style="color:#f92672">/</span>div<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span><span style="color:#f92672">/</span>div<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span><span style="color:#f92672">/</span>aside<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">$</span>endif<span style="color:#f92672">$</span>
</code></pre></div><p>这样就解决了。</p>
<p>但是这样可不是长久之计，毕竟一更新这个包不就没了。</p>
<p>还有高亮跟加入toc在yaml中使用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">output<span style="color:#f92672">:</span>
  blogdown<span style="color:#f92672">::</span>html_page<span style="color:#f92672">:</span>
    highlight<span style="color:#f92672">:</span> zenburn
    toc<span style="color:#f92672">:</span> true
</code></pre></div><p>发现只有这个高亮适合这主题。</p>
<h2 id="heading-5"><strong>添加分页</strong></h2>
<p><a href="https://bookdown.org/yihui/blogdown/templates.html#how-to">https://bookdown.org/yihui/blogdown/templates.html#how-to</a></p>
<p><a href="https://lvv.me/posts/2019/12/26_hugo_theme_dev_tips/">https://lvv.me/posts/2019/12/26_hugo_theme_dev_tips/</a></p>
<p>最后我的list文件是这样的</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.LanguageCode }}&#34;</span>&gt;

{{ partial &#34;header.html&#34; . }}

&lt;<span style="color:#f92672">body</span>&gt;
{{ partial &#34;default_header_image.html&#34; . }}

&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main-content 
</span><span style="color:#e6db74">site-main section-inner thin animated fadeIn faster&#34;</span>&gt;

{{ partial &#34;menu_strip.html&#34; . }}

&lt;<span style="color:#f92672">h1</span>&gt;{{ .Title | markdownify }}&lt;/<span style="color:#f92672">h1</span>&gt;

{{ .Content }}

&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylistcontainer&#34;</span>&gt;
&lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylist&#34;</span>&gt;
  <span style="color:#75715e">&lt;!--</span><span style="color:#75715e"> range (where .Data.Pages &#34;Section&#34; &#34;!=&#34; &#34;&#34;) </span><span style="color:#75715e">--&gt;</span>
   {{ $paginator := .Paginate .Data.Pages }}
   {{ range $paginator.Pages }}
&lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylist&#34;</span>&gt;
&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylist&#34;</span>&gt;
&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .URL }}&#34;</span>&gt;{{ .Title | markdownify }}&lt;/<span style="color:#f92672">a</span>&gt;&amp;nbsp;&amp;nbsp;
&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylistdate&#34;</span>&gt;{{ .Date.Format &#34;02 Jan 2006&#34; }}&lt;/<span style="color:#f92672">span</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;posts-group&#34;</span>&gt;

      
            
            
&lt;<span style="color:#f92672">br</span>&gt;
<span style="color:#75715e">&lt;!--</span><span style="color:#75715e"> 
</span><span style="color:#75715e">&lt;span class=&#34;prettylistsummary&#34;&gt;{{ .Summary | markdownify }}&lt;/span&gt;
</span><span style="color:#75715e"></span><span style="color:#75715e">--&gt;</span>
&lt;/<span style="color:#f92672">p</span>&gt;
&lt;/<span style="color:#f92672">li</span>&gt;
{{ end }}
&lt;/<span style="color:#f92672">ul</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
{{ partial &#34;pagination.html&#34; . }} 
{{ partial &#34;footer.html&#34; . }}

&lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>\partial目录下的pagination.html文件如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"> {{ if or (.Paginator.HasPrev) (.Paginator.HasNext) }}
 &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pagination&#34;</span>&gt;
     {{- if .Paginator.HasPrev }}
     &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pagination__item pagination__item--prev btn&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Paginator.Prev.URL }}&#34;</span>&gt;«&lt;/<span style="color:#f92672">a</span>&gt;
     {{- end }}
     &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pagination__item pagination__item--current&#34;</span>&gt;{{ .Paginator.PageNumber }}/{{ .Paginator.TotalPages }}&lt;/<span style="color:#f92672">span</span>&gt;
     {{- if .Paginator.HasNext }}
     &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pagination__item pagination__item--next btn&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Paginator.Next.URL }}&#34;</span>&gt;»&lt;/<span style="color:#f92672">a</span>&gt;
     {{- end }}
 &lt;/<span style="color:#f92672">div</span>&gt;
 {{ end }}  
</code></pre></div><p>之后就是加css了，</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/*增加文章分页css*/</span>
.<span style="color:#a6e22e">pagination</span> {
   <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>
}

.<span style="color:#a6e22e">pagination__item</span> {
  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline</span><span style="color:#f92672">-</span><span style="color:#66d9ef">block</span>;
  <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">15</span><span style="color:#66d9ef">px</span>;
   <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">700</span>;
   <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#333333</span>;
   <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#336633</span>
}

.<span style="color:#a6e22e">pagination__item</span>:<span style="color:#a6e22e">hover</span><span style="color:#f92672">,</span> .<span style="color:#a6e22e">pagination__item--current</span> {
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#fff</span>;
  <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#535e75</span>
}
</code></pre></div><p>每页显示多少文章数，在站点配置文件改,默认10。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">Paginate <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</code></pre></div><p>具体看文章:<a href="https://fffou.com/post/2020-05-14/">https://fffou.com/post/2020-05-14/</a></p>
<h2 id="rss">添加RSS</h2>
<p>hugo默认有RSS，你仔细看你的网站会发现有一个index.xml文件，但是谷歌插件不会自动识别这个文件，必须打开，不大友好。</p>
<p>在header.html添加，</p>
<pre><code>&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; href=&quot;https://liripo.github.io/index.xml&quot; title=&quot;Liripo&quot;&gt;
</code></pre><p>这样会在你整个网站添加链接，不想的话可以只添加到你的主页。</p>
<h2 id="heading-6">添加站内搜素</h2>
<p><a href="https://palant.info/2020/06/04/the-easier-way-to-use-lunr-search-with-hugo/">https://palant.info/2020/06/04/the-easier-way-to-use-lunr-search-with-hugo/</a></p>

      </main>

      <footer>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/r.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/python.min.js"></script>
  <script src ="/js/search.js"></script>

  <script>
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  </script>
  
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id       ="busuanzi_value_site_pv"></span>次</span>
  <span id="busuanzi_container_site_uv">
    本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
  
  
<script async src="../../js/center-image.js"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<center>
Liripo <SPAN id=span_dt_dt style="color: #0196e3;"></SPAN>
<SCRIPT language=javascript>
function show_date_time(){
window.setTimeout("show_date_time()", 1000);
BirthDay=new Date("7/8/2019 00:00:00");
today=new Date();
timeold=(today.getTime()-BirthDay.getTime());
sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);
msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);
e_hrsold=(e_daysold-daysold)*24;
hrsold=Math.floor(e_hrsold);
e_minsold=(e_hrsold-hrsold)*60;
minsold=Math.floor((e_hrsold-hrsold)*60);
seconds=Math.floor((e_minsold-minsold)*60);
span_dt_dt.innerHTML=""+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
}
show_date_time();
</SCRIPT>
</center>
  
</footer>


    </div>
  </body>
</html>
