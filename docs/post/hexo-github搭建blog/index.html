<!DOCTYPE html>
<html lang="Zh-cn">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hexo&#43;github搭建blog | Liripo</title>
    <link rel="shortcut icon" href="../../image/title.svg" type="image/x-icon">
  <script src="../../fontawesome-free-5.11.2-web/fontawesome-free-5.11.2-web/js/all.js" crossorigin="anonymous"></script>

  <style>
  	:root {
  		--pagecolour: #333333;
  		--maintext: #dddddd;
  		--faded: #888888;
  		--highlight: #ff69b4;
  		--lowlight: #ba68c8;
	}
  </style>

  <link rel="stylesheet" href="../../css/et_book.css" />
  <link rel="stylesheet" href="../../css/style.css" />

  
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Hexo&#43;github搭建blog">




</head>


  <body>
    



    <div class="main-content">
      <nav>
  <ul class="menu">
    
    <li><a href="../../">Home</a></li>
    
    <li><a href="../../about/">About</a></li>
    
    <li><a href="../../post/">Posts</a></li>
    
    <li><a href="../../tags/">Tags</a></li>
    
  </ul>
</nav>

      <div>
  <h1>Hexo+github搭建blog</h1>
  <h3>
    02 Nov 2019
  </h3>
   <h5 id="wc">4095 Words|Read in about 9       Min|本文总阅读量<span id="busuanzi_value_page_pv"></span>次</h5>
    </h5>
  <br><br>
</div>


      <main>
        

        <p>准备工作：安装node.js,git,hexo,加上github账户即可。
<a href="https://hexo.io/zh-cn/docs/">hexo官方文档</a>
<a href="https://help.github.com/en/github/working-with-github-pages/about-github-pages">什么是Github Page</a></p>
<blockquote>
<p>备注：以下前面为hexo在git for windows的配置安装，前三个标题推荐改为使用WSL&gt;安装，<a href="https://liripo.github.io/2020/03/21/windows10%E5%AE%89%E8%A3%85linux/#more">linux子系统安装</a>后可看这篇章的标题&ndash;在WSL中手动安装node,hexo，之后再按照第三个标题相关配置往下进行。</p>
</blockquote>
<p>[toc]</p>
<h3 id="nodejs-">node.js 安装</h3>
<p>node下载<a href="https://nodejs.org/en/download/">链接</a>,按需安装即可。</p>
<h3 id="githttpsgit-scmcomdownloadwinmail-to-me">git下载<a href="https://git-scm.com/download/win">链接</a>，若是官网下载网速不行，可mail to me,传百度云链接。</h3>
<p>安装完成后，可以在菜单栏看到<em>Git GUI Here</em> 和 <em>Git Bash Here</em>两个选项。打开gitbash输入命令行，有版本信息即可。</p>
<pre><code>git --version  
node -v  
npm -v
</code></pre><h3 id="hexo">安装hexo</h3>
<p>在gitbash中，命令行使用与linux相似，可选择一个磁盘，新建一个目录，如（/d/github.io）,cd 到该文件夹下使用npm命令。</p>
<pre><code>npm install hexo-cli -g #安装hexo  
npm install hexo-deployer-git --save  #表示安装 hexo 部署到 git page 的 deployer
</code></pre><p>初始化一个blog,可使用<code>hexo init</code>直接在当前目录初始化，亦可<code>hexo init blog</code>这样新建一个文件夹。
本地查看效果,cd 到初始化的文件夹下，执行以下命令，登录<a href="http://localhost:4000/">http://localhost:4000/</a></p>
<pre><code>hexo g
hexo s
</code></pre><p>假如4000的端口被占用，可使用<code>hexo g -p 4001</code>,<code>hexo s</code> 后访问相应端口即可。
gitbash最后会显示如下信息说明操作成功。</p>
<pre><code>INFO Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.
</code></pre><h3 id="ngithub-page">将博客n部署到github page</h3>
<p>到目前为止，我们的本地博客就成功搭建了，但是现在我们只能通过本地连接查看博客，我们要做的是让其他人也能够访问我们的博客，这就需要我们将博客部署到Github Pages上。
<a href="https://github.com/">github</a>sign up 注册账户。
点击<em>New repository</em>开始创建，步骤及注意事项见下图点击 New repository 开始创建，如下图。
<img src="https://user-images.githubusercontent.com/54770415/68066934-a6ee8e00-fd7a-11e9-8aa9-d1f5c3196e82.png" alt="i">
之后创建一个仓库名如(Liripo.git.io)，我的github账户名为Liripo。</p>
<h3 id="ssh">配置ssh密钥</h3>
<p>只有配置好 SSH 密钥后，我们才可以通过 git 操作实现本地代码库与 Github 代码库同步，新建文件夹（如mkdir ~/.ssh）,cd ~/.ssh, Git Bash 输入以下命令：</p>
<pre><code>ssh-keygen -t rsa -C &quot;your email@example.com&quot; 
//引号里面填写github的注册邮箱，比如我的是liripo@qq.com
</code></pre><p>接着出现</p>
<pre><code>Generating public/private rsa key pair.  
Enter file in which to save the key (/c/Users/you/.ssh/id_rsa):  
//到这里可以直接回车将密钥按默认文件进行存储
</code></pre><p>然后</p>
<pre><code> Enter passphrase (empty for no passphrase):  
//这里是要你输入密码，其实不需要输什么密码，直接回车就行 
Enter same passphrase again:  
</code></pre><p>最终屏幕显示如下信息：</p>
<pre><code>Your identification has been saved in /c/Users/you/.ssh/id_rsa.  
Your public key has been saved in /c/Users/you/.ssh/id_rsa.pub.  
The key fingerprint is:  
这里是各种字母数字组成的字符串，结尾是你的邮箱  
The key's randomart image is: 
这里也是各种字母数字符号组成的字符串
</code></pre><p>运行命令<code> $ clip &lt; ~/.ssh/id_rsa.pub</code>，将公钥的内容复制到系统粘贴板上;或者less查看并复制 ~/.ssh/id_rsa.pub</p>
<h3 id="github">在GitHub上添加你的公钥</h3>
<p>① 登陆 GitHub，进入 Settings；
② 点击 SSH and GPG Keys；
③ 选择 New SSH key；
④ 粘贴密钥；#备注：tittle随意填。
输入以下命令：注意：git@github.com不要做任何更改！</p>
<pre><code>ssh -T git@github.com
</code></pre><p>之后显示的内容，输入yes即可。
出现successfully字样即是成功，不必管其他的。</p>
<h3 id="git">配置git个人信息</h3>
<p>Git 会根据用户的名字和邮箱来记录提交，GitHub 也是用这些信息来做权限的处理，输入以下命令进行个人信息的设置，把名称和邮箱替换成你自己的，名字可以不是 GitHub 的昵称，但为了方便记忆，建议与 GitHub 一致。</p>
<pre><code>git config --global user.name &quot;此处填你的用户名&quot;  
git config --global user.email  &quot;此处填你的邮箱&quot;
</code></pre><p>到此为止 SSH Key 配置成功，本机已成功连接到 Github。</p>
<h3 id="-hexo--github-">将本地的 Hexo 文件更新到 Github 的库中</h3>
<p>cd 到刚刚hexo 初始化的目录下，配置*_config.yml*这个文件
github可以使用vim 编辑其，输入<code>vim _config.yml</code>,使用shift +g 快捷键到行尾，找到deploy字样。</p>
<pre><code># Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
  type: git
    repo: git@github.com:Liripo/Liripo.github.io
	  branch: master
</code></pre><p>repo处的Liripo修改成d你的用户n名即可。</p>
<h3 id="bloggithub">将本地修改的blog部署到GitHub上</h3>
<p>第一次部署，输入命令安装deployer</p>
<pre><code>npm install hexo-deployer-git --save
</code></pre><p>之后使用</p>
<pre><code>hexo d -g
</code></pre><p>即是部署到github上，可以到https://github.com/Liripo/Liripo.github.io（Liripo修改成你的账户）查看更新状态，亦可以到http://liripo.io上查看你的博客。
但是这样你的博客也没有那么快响应，可以将步骤拆分开来</p>
<pre><code>hexo g #生成静态页面
hexo s #本地查看
hexo d #部署上去
</code></pre><p>新建文章可以使用如<code>hexo n &quot;hallo world&quot;</code>的命令快速在source/<em>_posts</em>下生成一个halloworld.md的文件，你可以使用vim编辑这个文件，这个文件使用markdown语法书写。
当然，markdown语法也可以使用如Typora支持markdown的编辑器，之后将写的文件以.md保存在your/path/to/blog_source/<em>_posts</em>里面即可。
还有一点值得注意，</p>
<pre><code>hexo g&amp;&amp;hexo s&amp;&amp;hexo d
</code></pre><p>需要在你初始化的那个目录下使用。</p>
<h3 id="heading">博客备份</h3>
<p>使用hexo-git-backup 插件备份
Hexo 版本是 3.x.x，则使用以下命令安装：<code>npm install hexo-git-backup --save</code>
这里不在github.io下新建分支，而是新建了一个储存库hexo
到 Hexo 博客根目录的 _config.yml 配置文件里添加以下配置：</p>
<pre><code>backup:
  type: git
  theme: next
  message: Backup blog
  repository:
    github: git@github.com:Liripo/hexo.git,master
    coding: git@git.dev.tencent.com:Liripo/hexo.git,master
</code></pre><p>-theme：你要备份的主题名称
-message：自定义提交信息
-repository：仓库名，注意仓库地址后面要添加一个分支名，比如我就创建了一个 backup 分支
到此即可使用命令<code>hexo backup</code>或者<code>hexo b</code>备份博客了。</p>
<h3 id="hexonext">hexo及next主题优化</h3>
<p>这里便不多作介绍了，<a href="https://io-oi.me/tech/hexo-next-optimization/">参考网址</a></p>
<h3 id="hexo-1">hexo文章加密</h3>
<p>使用插件hexo-blog-encrypt即可，可在<a href="https://hexo.io/plugins/">hexo插件中心</a>或者<a href="https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md">github上的源代码</a>获得。
安装可使用npm安装<code>npm install --save hexo-blog-encrypt</code>
在站点配置文件启用插件<code>_config.yml</code>，随意找个位置即可：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">encrypt:
    enable: true
	abstract: 这是一篇加密文章，想查看的话请发我邮箱联系。
  	message: password
</code></pre></div><p>需要加密的文章加入&quot;password&quot;字段即可</p>
<pre><code>---
title: Hello World
date: 2016-03-30 21:18:02
password: hello world
---
</code></pre><p>高级设置可以看github上的Readme。</p>
<h3 id="picgogithubmarkdown">picgo+github构建markdown图床</h3>
<p>建立一个Github仓库后在setting里生成一个token,如我的为<code>a9717fe783682d0ddb3354f23ecc4aacbc2d9cf0</code>
下载<a href="https://github.com/Molunerfinn/PicGo">picgo</a>
配置,如图所示即可，注意/Liripo/blogphoto记得更换：
<img src="https://raw.githubusercontent.com/Liripo/blogphoto/master/img/20191210223112.png" alt=""></p>
<p>不过图片显示不稳定，本人换成了腾讯云cos。</p>
<h3 id="heading-1">我的博客环境</h3>
<p><code>hexo --version</code></p>
<pre><code>hexo: 4.0.0
hexo-cli: 3.1.0
os: Windows_NT 10.0.17763 win32 x64
node: 12.13.0
v8: 7.7.299.13-node.12
uv: 1.32.0
zlib: 1.2.11
brotli: 1.0.7
ares: 1.15.0
modules: 72
nghttp2: 1.39.2
napi: 5
llhttp: 1.1.4
http_parser: 2.8.0
openssl: 1.1.1d
cldr: 35.1
icu: 64.2
tz: 2019a
unicode: 12.1
</code></pre><p>查看依赖包,cat  hexo 目录下的 package.json 文件<code>cat package.json</code></p>
<pre><code>{
  &quot;name&quot;: &quot;hexo-site&quot;,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;private&quot;: true,
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;hexo generate&quot;,
    &quot;clean&quot;: &quot;hexo clean&quot;,
    &quot;deploy&quot;: &quot;hexo deploy&quot;,
    &quot;server&quot;: &quot;hexo server&quot;
  },
  &quot;hexo&quot;: {
    &quot;version&quot;: &quot;4.0.0&quot;
  },
  &quot;dependencies&quot;: {
    &quot;hexo&quot;: &quot;^4.0.0&quot;,
    &quot;hexo-asset-image&quot;: &quot;git+https://github.com/CodeFalling/hexo-asset-image.git&quot;,
    &quot;hexo-blog-encrypt&quot;: &quot;^3.0.6&quot;,
    &quot;hexo-deployer-git&quot;: &quot;^2.0.0&quot;,
    &quot;hexo-generator-archive&quot;: &quot;^1.0.0&quot;,
    &quot;hexo-generator-category&quot;: &quot;^1.0.0&quot;,
    &quot;hexo-generator-index&quot;: &quot;^1.0.0&quot;,
    &quot;hexo-generator-searchdb&quot;: &quot;^1.1.0&quot;,
    &quot;hexo-generator-tag&quot;: &quot;^1.0.0&quot;,
    &quot;hexo-git-backup&quot;: &quot;^0.1.3&quot;,
    &quot;hexo-renderer-ejs&quot;: &quot;^1.0.0&quot;,
    &quot;hexo-renderer-marked&quot;: &quot;^2.0.0&quot;,
    &quot;hexo-renderer-stylus&quot;: &quot;^1.1.0&quot;,
    &quot;hexo-server&quot;: &quot;^1.0.0&quot;,
    &quot;hexo-toc&quot;: &quot;^1.1.0&quot;,
    &quot;hexo-wordcount&quot;: &quot;^6.0.1&quot;
  }
}
</code></pre><h3 id="heading-2">更新</h3>
<h4 id="npm">npm更新包</h4>
<ul>
<li>npm 更新全局安装的包：
<code>npm update -g</code>
-npm 更新站点文件夹根目录下安装的依赖包：
<code>cd ~/blog</code>   <code>npm update</code></li>
<li>更新 npm ：
<code>npm install npm -g</code></li>
<li>更新 Node.js 到最新版：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install n -g
n latest
</code></pre></div><h4 id="heading-3">更新主题</h4>
<p>改动不大没必要更新，更新有风险，需谨慎
<code>cd ~/blog/themes/next/</code></p>
<ul>
<li>直接<code>git pull</code>一般会失败，这是因为改过了本地配置</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#先将本地的所有修改先暂时存储起来</span>
git stash
<span style="color:#75715e">#拉取最新数据，之所以可以拉取是因为有.git文件</span>
git pull
<span style="color:#75715e">#接下来还原暂时存储的内容</span>
git stash pop
</code></pre></div><p>上面失败的话是因为Git 无法确定一些改动，这时可以选择手动修改，很麻烦但是推荐使用
或者直接放弃本地修改并更新</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset --hard
git pull
</code></pre></div><h3 id="-gulp--hexo-">使用 gulp 压缩 hexo 静态资源</h3>
<p><a href="https://www.npmjs.com/package/gulp">官方文档</a>
查看网页源代码发现有大量留白。利用 gulp压缩。首先任意目录全局安装：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install gulp-cli -g
</code></pre></div><p>然后到站点文件夹根目录,<code>cd ~/blog</code>【省去配置环境变量的麻烦】：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install gulp-clean-css gulp-uglify gulp-htmlmin gulp-imagemin gulp-htmlclean gulp --save
</code></pre></div><p>在博客根目录下创建一个名为 gulpfile.js 的文件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 文件位置：~/blog/gulpfile.js
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">gulp</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;gulp&#39;</span>);
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">minifycss</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;gulp-minify-css&#39;</span>);
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">htmlmin</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;gulp-htmlmin&#39;</span>);
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">htmlclean</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;gulp-htmlclean&#39;</span>);
<span style="color:#a6e22e">gulp</span>.<span style="color:#a6e22e">task</span>(<span style="color:#e6db74">&#39;minify-css&#39;</span>, <span style="color:#66d9ef">function</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">gulp</span>.<span style="color:#a6e22e">src</span>(<span style="color:#e6db74">&#39;./public/**/*.css&#39;</span>)
        .<span style="color:#a6e22e">pipe</span>(<span style="color:#a6e22e">minifycss</span>())
        .<span style="color:#a6e22e">pipe</span>(<span style="color:#a6e22e">gulp</span>.<span style="color:#a6e22e">dest</span>(<span style="color:#e6db74">&#39;./public&#39;</span>))
});
<span style="color:#a6e22e">gulp</span>.<span style="color:#a6e22e">task</span>(<span style="color:#e6db74">&#39;minify-html&#39;</span>, <span style="color:#66d9ef">function</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">gulp</span>.<span style="color:#a6e22e">src</span>(<span style="color:#e6db74">&#39;./public/**/*.html&#39;</span>)
    .<span style="color:#a6e22e">pipe</span>(<span style="color:#a6e22e">htmlclean</span>())
    .<span style="color:#a6e22e">pipe</span>(<span style="color:#a6e22e">htmlmin</span>({
         <span style="color:#a6e22e">removeComments</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
         <span style="color:#a6e22e">minifyJS</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
         <span style="color:#a6e22e">minifyCSS</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
         <span style="color:#a6e22e">minifyURLs</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
    }))
    .<span style="color:#a6e22e">pipe</span>(<span style="color:#a6e22e">gulp</span>.<span style="color:#a6e22e">dest</span>(<span style="color:#e6db74">&#39;./public&#39;</span>))
});
<span style="color:#a6e22e">gulp</span>.<span style="color:#a6e22e">task</span>(<span style="color:#e6db74">&#39;default&#39;</span>, [<span style="color:#e6db74">&#39;minify-html&#39;</span>, <span style="color:#e6db74">&#39;minify-css&#39;</span>]);
</code></pre></div><p>部署到Github Page</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hexo clean <span style="color:#f92672">&amp;&amp;</span> hexo g <span style="color:#f92672">&amp;&amp;</span> gulp <span style="color:#f92672">&amp;&amp;</span> hexo d
</code></pre></div><p>最后，图方便直接git clone 别人的博客备份，再稍微修改，删掉别人的文章就好喽！【不过你要知道别人的依赖环境才行】</p>
<h3 id="heading-4">脚注添加</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install hexo-reference --save
</code></pre></div><p>在站点配置文件添加</p>
<pre><code>plugins:
  hexo-reference
</code></pre><h3 id="heading-5">文章加密</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install hexo-blog-encrypt
</code></pre></div><p>在站点配置文件添加</p>
<pre><code> encrypt:
   enable: true
#   abstract: 此文已加密，如若需要观看，请邮件联系。
#   message: password
</code></pre><h3 id="heading-6">移除某插件</h3>
<pre><code>npm un &lt;插件&gt; --save
</code></pre><h3 id="heading-7">修改链接样式</h3>
<p><code>cd themes/next/source/css/_common/components/post &amp;&amp; vim post.styl</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">/*修改文章内链接文本样式*/</span>
 .<span style="color:#a6e22e">post</span><span style="color:#f92672">-</span><span style="color:#a6e22e">body</span> <span style="color:#a6e22e">p</span> <span style="color:#a6e22e">a</span>{
   <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0593</span><span style="color:#a6e22e">d3</span>;
   <span style="color:#a6e22e">border</span><span style="color:#f92672">-</span><span style="color:#a6e22e">bottom</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">none</span>;

   <span style="color:#f92672">&amp;</span><span style="color:#f92672">:</span><span style="color:#a6e22e">hover</span> {
     <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0477</span><span style="color:#a6e22e">ab</span>;
     <span style="color:#a6e22e">text</span><span style="color:#f92672">-</span><span style="color:#a6e22e">decoration</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">underline</span>;
   }
 }
</code></pre></div><h3 id="-readmemd-">添加 README.md 文件</h3>
<p>每个项目下一般都有一个 README.md 文件，但是使用 hexo 部署到仓库后，项目下是没有 README.md 文件的。在 Hexo 目录下的 source 根目录下添加一个 README.md 文件，修改站点配置文件\ _config.yml，将 skip_render 参数的值设置为</p>
<pre><code>skip\_render: README.md
</code></pre><h3 id="daovoice">添加Daovoice在线聊天</h3>
<p>注册地址<a href="http://www.daovoice.io/">http://www.daovoice.io/</a>
使用我的邀请码进行注册：05043655
复制粘贴代码
修改的hexo的文件路劲如下: <code>博客/themes/next/layout/_partials/head/head.swig</code>末尾添加下面的代码:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">
{<span style="color:#f92672">%</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">theme</span>.<span style="color:#a6e22e">daovoice</span> <span style="color:#f92672">%</span>}
 <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span><span style="color:#f92672">&gt;</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">i</span>,<span style="color:#a6e22e">s</span>,<span style="color:#a6e22e">o</span>,<span style="color:#a6e22e">g</span>,<span style="color:#a6e22e">r</span>,<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">m</span>){<span style="color:#a6e22e">i</span>[<span style="color:#e6db74">&#34;DaoVoiceObject&#34;</span>]<span style="color:#f92672">=</span><span style="color:#a6e22e">r</span>;<span style="color:#a6e22e">i</span>[<span style="color:#a6e22e">r</span>]<span style="color:#f92672">=</span><span style="color:#a6e22e">i</span>[<span style="color:#a6e22e">r</span>]<span style="color:#f92672">||</span><span style="color:#66d9ef">function</span>(){(<span style="color:#a6e22e">i</span>[<span style="color:#a6e22e">r</span>].<span style="color:#a6e22e">q</span><span style="color:#f92672">=</span><span style="color:#a6e22e">i</span>[<span style="color:#a6e22e">r</span>].<span style="color:#a6e22e">q</span><span style="color:#f92672">||</span>[]).<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">arguments</span>)},<span style="color:#a6e22e">i</span>[<span style="color:#a6e22e">r</span>].<span style="color:#a6e22e">l</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">*</span><span style="color:#66d9ef">new</span> Date();<span style="color:#a6e22e">a</span><span style="color:#f92672">=</span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">createElement</span>(<span style="color:#a6e22e">o</span>),<span style="color:#a6e22e">m</span><span style="color:#f92672">=</span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">getElementsByTagName</span>(<span style="color:#a6e22e">o</span>)[<span style="color:#ae81ff">0</span>];<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">async</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#a6e22e">g</span>;<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>;<span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">parentNode</span>.<span style="color:#a6e22e">insertBefore</span>(<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">m</span>)})(window,document,<span style="color:#e6db74">&#34;script&#34;</span>,(<span style="color:#e6db74">&#39;https:&#39;</span> <span style="color:#f92672">==</span> document.<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">protocol</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;https:&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http:&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;//widget.daovoice.io/widget/b6dbddb6.js&#34;</span>,<span style="color:#e6db74">&#34;daovoice&#34;</span>)
 <span style="color:#a6e22e">daovoice</span>(<span style="color:#e6db74">&#39;init&#39;</span>, {
  <span style="color:#a6e22e">app_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;用户ID&#34;</span>
});
<span style="color:#a6e22e">daovoice</span>(<span style="color:#e6db74">&#39;update&#39;</span>);
 <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#960050;background-color:#1e0010">s</span><span style="color:#960050;background-color:#1e0010">c</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">p</span><span style="color:#960050;background-color:#1e0010">t</span><span style="color:#960050;background-color:#1e0010">&gt;</span><span style="color:#960050;background-color:#1e0010"></span>
{<span style="color:#f92672">%</span> <span style="color:#a6e22e">endif</span> <span style="color:#f92672">%</span>}
</code></pre></div><p>其中用户ID可以在Daovoice注册好页面的应用设置中找到。<code>app_id</code>关键字之后
在Next主题的配置文件博客<code>/themes/next/_config.yml</code>末尾中添加用户ID:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">daovoice: true
daovoice_app_id: 用户ID
</code></pre></div><blockquote>
<p>不大好用，加载页面不顺利</p>
</blockquote>
<h3 id="hexo-neathtmljscss">添加hexo-neat压缩html,js,css</h3>
<p>首先<code>npm install hexo-neat --save</code>
在站点配置文件中添加</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#75715e"># hexo-neat</span>
<span style="color:#75715e"># 博文压缩</span>
neat_enable: <span style="color:#66d9ef">true</span>
<span style="color:#75715e"># 压缩html</span>
neat_html:
  enable: <span style="color:#66d9ef">true</span>
  exclude:
<span style="color:#75715e"># 压缩css</span>
neat_css:
  enable: <span style="color:#66d9ef">true</span>
  exclude:
    - <span style="color:#e6db74">&#39;**/*.min.css&#39;</span>
<span style="color:#75715e"># 压缩js</span>
neat_js:
  enable: <span style="color:#66d9ef">true</span>
  mangle: <span style="color:#66d9ef">true</span>
  output:
  compress:
  exclude:
    - <span style="color:#e6db74">&#39;**/*.js&#39;</span>
</code></pre></div><h3 id="npm-1">npm管理</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#查看下载的包的路径，即npm install的包</span>
npm config get prefix
</code></pre></div><h3 id="wslnodehexo">在WSL中手动安装node,hexo</h3>
<p>在<a href="https://nodejs.org/dist/">node网址</a>寻找最新版本linux的二进制版本，以.xz结尾，如我使用以下命令安装了我的版本</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">wget https://nodejs.org/dist/latest/node-v13.12.0-linux-x64.tar.xz
</code></pre></div><p>解压即可<code>tar xvf node-v13.12.0-linux-x64.tar.xz</code></p>
<p>配置相关环境变量到~/.bashrc,运行<code>node -v </code> <code>npm -v</code>看看是否有版本信息，之后<code>npm install hexo-cli g</code>安装hexo,安装路径应在node安装目录同个目录下的node_model目录下，找到hexo-cli目录，进入可以看到bin下有hexo运行程序，加入到环境变量即可，或者软连接到/usr/local/bin之类的。</p>
<h3 id="heading-8">官方教程</h3>
<p><a href="https://theme-next.org/docs/getting-started/data-files">官方教程</a></p>
      </main>

      <footer>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/r.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/python.min.js"></script>

  <script>
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  </script>
  
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id       ="busuanzi_value_site_pv"></span>次</span>
  <span id="busuanzi_container_site_uv">
    本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
  
  
<script async src="../../js/center-image.js"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<center>
Liripo <SPAN id=span_dt_dt style="color: #0196e3;"></SPAN>
<SCRIPT language=javascript>
function show_date_time(){
window.setTimeout("show_date_time()", 1000);
BirthDay=new Date("7/8/2019 00:00:00");
today=new Date();
timeold=(today.getTime()-BirthDay.getTime());
sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);
msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);
e_hrsold=(e_daysold-daysold)*24;
hrsold=Math.floor(e_hrsold);
e_minsold=(e_hrsold-hrsold)*60;
minsold=Math.floor((e_hrsold-hrsold)*60);
seconds=Math.floor((e_minsold-minsold)*60);
span_dt_dt.innerHTML=""+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
}
show_date_time();
</SCRIPT>
</center>
  
</footer>


    </div>
  </body>
</html>
