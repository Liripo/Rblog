<!DOCTYPE html>
<html lang="Zh-cn">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>vim | Liripo</title>
    <link rel="shortcut icon" href="../../image/title.svg" type="image/x-icon">
  <script src="../../fontawesome-free-5.11.2-web/fontawesome-free-5.11.2-web/js/all.js" crossorigin="anonymous"></script>

  <style>
  	:root {
  		--pagecolour: #333333;
  		--maintext: #dddddd;
  		--faded: #888888;
  		--highlight: #6BB0DF;
  		--lowlight: #ba68c8;
	}
  </style>
  <link rel="stylesheet" href="../../css/et_book.css" />
  <link rel="stylesheet" href="../../css/search.css" />
  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="alternate" type="application/rss+xml" href="https://liripo.github.io/index.xml" title="Liripo">
  
  <link rel="stylesheet" href="https://fonts.loli.net/css?family=Tangerine">

  
<meta name="twitter:card" content="summary">
<meta property="og:title" content="vim">




</head>


  <body>
    



    <div class="main-content">
      <nav>
  <ul class="menu">
    
    <li><a href="../../">Home</a></li>
    
    <li><a href="../../about/">About</a></li>
    
    <li><a href="../../post/">Posts</a></li>
    
    <li><a href="../../tags/">Tags</a></li>
    
  </ul>
</nav>

      <div>
  <h1>vim</h1>
  <h3>
    28 Mar 2020
  </h3>
   <h5 id="wc">781 Words|Read in about 2       Min|本文总阅读量<span id="busuanzi_value_page_pv"></span>次</h5>
    </h5>
  <br><br>
</div>


      <main>
        

        <p>vim 配置</p>
<p>bundle安装在~/.vim/bundle</p>
<p>如果要公用可以装在/opt/vimbundle/bundle/文件夹下，或者配置环境变量。</p>
<h3 id="heading">依赖包安装</h3>
<p>确保环境中有<code>cmake</code> , <code>python-dev</code> , <code>python3-dev</code> ,没有的话需要事先安装</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-get install cmake python-dev python3-dev clang
</code></pre></div><h3 id="youcompleteme-"><code>YouCompleteMe</code> 及其依赖包下载</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#在~/.vim/bundle/文件夹下</span>
git clone https://github.com/ycm-core/YouCompleteMe.git
cd YouCompleteMe
<span style="color:#75715e"># 下载依赖库，这一步与网速有关，可能会断掉报错，重新运行可以了。</span>
git submodule update --init --recursive
</code></pre></div><h3 id="youcompleteme">编译<code>YouCompleteMe</code></h3>
<p>下载好<code>YouCompleteMe</code> 及其依赖包后，打开<code>vi</code> 发现仍然会报错，是因为其核心包<code>ycmd</code> 还没有被编译好，需要我们手动编译。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd /opt/vimbundle/bundle/YouCompleteMe/
<span style="color:#75715e"># 具体是支持哪个python版本看自己情况，我这边指支持python，所以用python编译。要不要支持c语言也看自己需要，不需要的话就去掉`--clang-completer`。</span>
python install.py --clang-completer
</code></pre></div><h3 id="heading-1">可能的报错</h3>
<p>如果编译好<code>ycmd_core</code> 后仍然报错，那很可能就是一些<code>python module</code> 没有安装，通过下面方法检测出来再安装即可。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd /opt/vimbundle/bundle/YouCompleteMe/third_party/ycmd/
cp ycmd/default_settings.json .
<span style="color:#75715e"># 通过下面查看是不是出现python的某些模块没有安装，如果是，那就安装上就好了。</span>
python ycmd --options_file default_settings.json
</code></pre></div><p>一个示例配置</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  
syntax on
set guifont<span style="color:#f92672">=</span>Monaco:h13
<span style="color:#e6db74">&#34;set tabstop=4
</span><span style="color:#e6db74">set hlsearch
</span><span style="color:#e6db74">set nocompatible
</span><span style="color:#e6db74">set nofoldenable
</span><span style="color:#e6db74">set history=1000
</span><span style="color:#e6db74">set backspace=indent,eol,start
</span><span style="color:#e6db74">&#34;</span> prompt when existing from an unsaved file
set confirm
set t_Co<span style="color:#f92672">=</span>256
set title
set autoread
set spell
set cursorline
set cursorcolumn
set fenc<span style="color:#f92672">=</span>utf-8
set encoding<span style="color:#f92672">=</span>utf-8
set langmenu<span style="color:#f92672">=</span>zh_CN.UTF-8

<span style="color:#e6db74">&#34; bundle conf
</span><span style="color:#e6db74">filetype off
</span><span style="color:#e6db74">set rtp+=/mnt/d/UbuntuApps/vimbundle/bundle/Vundle.vim
</span><span style="color:#e6db74">call vundle#begin(&#34;</span>/mnt/d/UbuntuApps/vimbundle/bundle/<span style="color:#e6db74">&#34;)
</span><span style="color:#e6db74">Plugin &#39;VundleVim/Vundle.vim&#39;
</span><span style="color:#e6db74">Plugin &#39;vim-pandoc/vim-rmarkdown&#39;
</span><span style="color:#e6db74">Plugin &#39;vim-pandoc/vim-pandoc-syntax&#39;
</span><span style="color:#e6db74">Plugin &#39;vim-pandoc/vim-pandoc&#39;
</span><span style="color:#e6db74">Plugin &#39;iamcco/markdown-preview.vim&#39;
</span><span style="color:#e6db74">Plugin &#39;iamcco/mathjax-support-for-mkdp&#39;
</span><span style="color:#e6db74">Plugin &#39;godlygeek/tabular&#39;
</span><span style="color:#e6db74">Plugin &#39;plasticboy/vim-markdown&#39;
</span><span style="color:#e6db74">Plugin &#39;elzr/vim-json&#39;
</span><span style="color:#e6db74">Plugin &#39;tomasr/molokai&#39;
</span><span style="color:#e6db74">Plugin &#39;flazz/vim-colorschemes&#39;
</span><span style="color:#e6db74">Plugin &#39;Valloric/YouCompleteMe&#39;
</span><span style="color:#e6db74">Plugin &#39;jalvesaq/Nvim-R&#39;
</span><span style="color:#e6db74">Plugin &#39;scrooloose/nerdtree&#39;
</span><span style="color:#e6db74">Plugin &#39;vim-airline/vim-airline&#39;
</span><span style="color:#e6db74">Plugin &#39;majutsushi/tagbar&#39;
</span><span style="color:#e6db74">Plugin &#39;jalvesaq/vimcmdline&#39;
</span><span style="color:#e6db74">call vundle#end()
</span><span style="color:#e6db74">filetype plugin indent on
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&#34;</span> YouComleteMe conf
let g:ycm_use_clangd <span style="color:#f92672">=</span> 0
let g:ycm_server_python_interpreter<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/usr/bin/python3&#39;</span>
let g:ycm_global_ycm_extra_conf<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/mnt/d/UbuntuApps/vimbundle/bundle/.ycm_extra_conf.py&#39;</span>
let g:ycm_confirm_extra_conf <span style="color:#f92672">=</span> 0
let g:ycm_seed_identifiers_with_syntax <span style="color:#f92672">=</span> 1
let g:ycm_complete_in_comments <span style="color:#f92672">=</span> 1
let g:ycm_collect_identifiers_from_comments_and_strings <span style="color:#f92672">=</span> 0
let g:ycm_complete_in_strings <span style="color:#f92672">=</span> 1
let g:ycm_cache_omnifunc <span style="color:#f92672">=</span> 1
let g:ycm_autoclose_preview_window_after_completation<span style="color:#f92672">=</span>1
let g:ycm_min_num_of_chars_for_completion<span style="color:#f92672">=</span>3
autocmd InsertLeave * <span style="color:#66d9ef">if</span> pumvisible<span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> | pclose | endif

<span style="color:#e6db74">&#34; Nvim-R conf
</span><span style="color:#e6db74">let R_assign = 0
</span><span style="color:#e6db74">let R_objbr_place = &#39;script,right&#39;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&#34;</span> vim-colorschemes conf
colorscheme wombat

<span style="color:#e6db74">&#34; vim-json conf
</span><span style="color:#e6db74">let g:vim_json_syntax_conceal = 0
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&#34;</span> nerdtree conf
nmap &lt;F2&gt; :NERDTreeToggle&lt;CR&gt;
let NERDChristmasTree<span style="color:#f92672">=</span>0
let NERDTreeChDirMode <span style="color:#f92672">=</span> 2
let NERDTreeShowBookmarks <span style="color:#f92672">=</span> 1
let NERDTreeIgnore <span style="color:#f92672">=</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;\~$&#39;</span>, <span style="color:#e6db74">&#39;\.pyc$&#39;</span>, <span style="color:#e6db74">&#39;\.swp$&#39;</span><span style="color:#f92672">]</span>
let NERDTreeWinSize <span style="color:#f92672">=</span> 25
let NERDTreeWinPos <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;left&#34;</span>

<span style="color:#e6db74">&#34; vim-airline conf
</span><span style="color:#e6db74">let g:airline_powerline_fonts=0
</span><span style="color:#e6db74">let g:airline#extensions#tabline#enabled=1
</span><span style="color:#e6db74">let g:airline#extensions#tabline#buffer_nr_show=1
</span><span style="color:#e6db74">let g:airline#extensions#tagbar#enabled=0
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&#34;</span> tagbar conf
nmap &lt;F8&gt; :TagbarToggle&lt;CR&gt;
let g:tagbar_left<span style="color:#f92672">=</span>0
let g:tagbar_width<span style="color:#f92672">=</span>30
let g:tagbar_autofocus <span style="color:#f92672">=</span> 1
let g:tagbar_sort <span style="color:#f92672">=</span> 0
let g:tagbar_compact <span style="color:#f92672">=</span> 1
<span style="color:#e6db74">&#34; tag for coffee
</span><span style="color:#e6db74">if executable(&#34;</span>coffeetags<span style="color:#e6db74">&#34;)
</span><span style="color:#e6db74">    let g:tagbar_type_coffee = {
</span><span style="color:#e6db74">          \ &#39;ctagsbin&#39; : &#39;coffeetags&#39;,
</span><span style="color:#e6db74">          \ &#39;ctagsargs&#39; : &#39;&#39;,
</span><span style="color:#e6db74">          \ &#39;kinds&#39; : [
</span><span style="color:#e6db74">          \ &#39;f:function&#39;,
</span><span style="color:#e6db74">          \ &#39;o:object&#39;,
</span><span style="color:#e6db74">          \ ],
</span><span style="color:#e6db74">          \ &#39;sro&#39;: &#34;</span>.<span style="color:#e6db74">&#34;,
</span><span style="color:#e6db74">          \ &#39;kind2scope&#39; : {
</span><span style="color:#e6db74">          \ &#39;f&#39; : &#39;object&#39;,
</span><span style="color:#e6db74">          \ &#39;o&#39; : &#39;object&#39;,
</span><span style="color:#e6db74">          \ }
</span><span style="color:#e6db74">          \ }
</span><span style="color:#e6db74">    let g:tagbar_type_markdown = {
</span><span style="color:#e6db74">          \ &#39;ctagstype&#39; : &#39;markdown&#39;,
</span><span style="color:#e6db74">          \ &#39;sort&#39; : 0,
</span><span style="color:#e6db74">          \ &#39;kinds&#39;: [
</span><span style="color:#e6db74">          \ &#39;h:sections&#39;
</span><span style="color:#e6db74">          \ ]
</span><span style="color:#e6db74">          \ }
</span><span style="color:#e6db74">endif
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&#34;</span> markdown-preview
let g:mkdp_path_to_chrome <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/usr/bin/firefox&#34;</span>
</code></pre></div><blockquote>
<p>别人的，做个记录。</p>
</blockquote>

      </main>

      <footer>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/r.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/python.min.js"></script>
  <script src ="/js/search.js"></script>

  <script>
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  </script>
  
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id       ="busuanzi_value_site_pv"></span>次</span>
  <span id="busuanzi_container_site_uv">
    本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
  
  
<script async src="../../js/center-image.js"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<center>
Liripo <SPAN id=span_dt_dt style="color: #0196e3;"></SPAN>
<SCRIPT language=javascript>
function show_date_time(){
window.setTimeout("show_date_time()", 1000);
BirthDay=new Date("7/8/2019 00:00:00");
today=new Date();
timeold=(today.getTime()-BirthDay.getTime());
sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);
msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);
e_hrsold=(e_daysold-daysold)*24;
hrsold=Math.floor(e_hrsold);
e_minsold=(e_hrsold-hrsold)*60;
minsold=Math.floor((e_hrsold-hrsold)*60);
seconds=Math.floor((e_minsold-minsold)*60);
span_dt_dt.innerHTML=""+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
}
show_date_time();
</SCRIPT>
</center>
  
</footer>


    </div>
  </body>
</html>
