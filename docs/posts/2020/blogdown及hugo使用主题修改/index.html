<!DOCTYPE html>
<html lang="Zh-cn">
<head>
    <meta charset="utf-8">
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://liripo.github.io/css/frameworks.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://liripo.github.io/css/github.css" />
    
    <link crossorigin="anonymous" media="(prefers-color-scheme: dark)" rel="stylesheet"
        href="https://liripo.github.io/css/dark.css" />
    
    <meta name="viewport" content="width=device-width">
    <meta name="description"
        content="blogdown https://github.com/rstudio/blogdown在bookdown上有书，所以安装使用基本看下文档就知道了。 当然，你" />
    <meta name="keywords"
        content="" />
    <meta name="robots" content="noodp" />
    <link rel="canonical" href="https://liripo.github.io/posts/2020/blogdown%E5%8F%8Ahugo%E4%BD%BF%E7%94%A8%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9/" />

    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="blogdown及hugo使用主题修改 - Liripo" />
    <meta name="twitter:description"
        content="blogdown https://github.com/rstudio/blogdown在bookdown上有书，所以安装使用基本看下文档就知道了。 当然，你" />
    <meta name="twitter:site" content="https://liripo.github.io" />
    <meta name="twitter:creator" content="" />
    <meta name="twitter:image"
        content="https://liripo.github.io">

    
    <meta property="og:type" content="article" />
    <meta property="og:title" content="blogdown及hugo使用主题修改 - Liripo">
    <meta property="og:description"
        content="blogdown https://github.com/rstudio/blogdown在bookdown上有书，所以安装使用基本看下文档就知道了。 当然，你" />
    <meta property="og:url" content="https://liripo.github.io/posts/2020/blogdown%E5%8F%8Ahugo%E4%BD%BF%E7%94%A8%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9/" />
    <meta property="og:site_name" content="blogdown及hugo使用主题修改" />
    <meta property="og:image"
        content="https://liripo.github.io">
    <meta property="og:image:width" content="2048">
    <meta property="og:image:height" content="1024">
    
    <meta property="article:published_time" content="2020-08-16 00:00:00 &#43;0000 UTC" />
    

    
    

    
    

    <title>blogdown及hugo使用主题修改 - Liripo</title>

    <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://liripo.github.io/images/favicon.ico">
    <meta name="theme-color" content="#1e2327">

    
    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-155993181-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>

<body class="env-production emoji-size-boost page-responsive page-profile">
  <div class="position-relative js-header-wrapper ">
    <span class="Progress progress-pjax-loader position-fixed width-full js-pjax-loader-bar">
        <span class="progress-pjax-loader-bar top-0 left-0" style="width: 0%;"></span>
    </span>
    <header class="Header py-lg-0 js-details-container Details flex-wrap flex-lg-nowrap p-responsive" role="banner">
        <div class="Header-item d-none d-lg-flex">
            <a class="Header-link" href="https://liripo.github.io" aria-label="Homepage"
                data-ga-click="Header, go to dashboard, icon:logo">
                <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
                    width="32" aria-hidden="true">
                    <path fill-rule="evenodd"
                        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                </svg>
            </a>
        </div>
        <div
            class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden">
            <div class="header-search flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to"
                role="combobox" aria-owns="jump-to-results" aria-label="Search or jump to" aria-haspopup="listbox"
                aria-expanded="false">
                <div class="position-relative">
                </div>
            </div>
        </div>
        <nav class="d-flex" aria-label="Global">
            <a class="js-selected-navigation-item Header-link py-lg-3">&nbsp;</a>
        </nav>
        <div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative" style="margin-right: auto;">
            <a class="Header-link" href="https://liripo.github.io" aria-label="Homepage"
                data-ga-click="Header, go to dashboard, icon:logo">
                <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
                    width="32" aria-hidden="true">
                    <path fill-rule="evenodd"
                        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                </svg>
            </a>
        </div>
        <div class="Header-item position-relative mr-0 d-none d-lg-flex">
            <details class="details-overlay details-reset">
                <summary class="Header-link" aria-label="View profile and more"
                    data-ga-click="Header, show menu, icon:avatar">
                    
                    <img alt="" class="avatar" src="https://themes.gohugo.io/theme/github-style/images/avatar.png" height="20" width="20">
                    
                </summary>
            </details>
        </div>
    </header>
</div>

<div id="start-of-content" class="show-on-focus"></div>
<div id="js-flash-container">
</div>

  
<div class="application-main " data-commit-hovercards-enabled="">
    <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
        <main>
            <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav pt-0 pt-lg-4 ">
                <div class="repohead-details-container clearfix container-lg p-responsive d-none d-lg-block">
                    <div class="mb-3 d-flex">
                        <h1 class="public css-truncate float-none flex-auto width-fit pl-0">
                            <a class="avatar mr-1" href="https://liripo.github.io/about/">
                                

                                <img src="https://themes.gohugo.io/theme/github-style/images/avatar.png" width="26" height="26">
                                
                            </a>
                            <span class="author"><a href="https://liripo.github.io">liripo</a></span>
                            <span class="path-divider">/</span>
                            <strong itemprop="name" class="css-truncate-target" style="max-width: 410px"><a
                                    href="https://liripo.github.io/posts/2020/blogdown%E5%8F%8Ahugo%E4%BD%BF%E7%94%A8%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9/">blogdown及hugo使用主题修改</a></strong>

                            <div class="d-block text-small text-gray">
                                Created <time-ago datetime="2020-08-16" class="no-wrap"
                                    title="Created at 2020/08/16">
                                    2020-08-16</time-ago>
                                <span class="file-info-divider"></span>
                                Modified <time-ago datetime="2020-08-16" class="no-wrap"
                                    title="Modified  at 2020/08/16">
                                    2020-08-16</time-ago>
                            </div>
                        </h1>
                    </div>
                </div>




            </div>
            <div class="container-lg clearfix new-discussion-timeline experiment-repo-nav  p-responsive">
                <div class="repository-content ">
                    <div class="Box mt-3 position-relative">
                        <div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center">
                            <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                                4486 Words
                                
                            </div>
                        </div>

                        <div id="readme" class="Box-body readme blob instapaper_body js-code-block-container">
                            <article class="markdown-body entry-content p-3 p-md-6" itemprop="text"><h1 id="blogdown">blogdown</h1>
<p><a href="https://github.com/rstudio/blogdown">https://github.com/rstudio/blogdown</a>在bookdown上有书，所以安装使用基本看下文档就知道了。</p>
<p>当然，你也可以选择hugodown。</p>
<h1 id="calade-theme">calade theme</h1>
<p>我使用的是<a href="https://github.com/djnavarro/hugo-calade">https://github.com/djnavarro/hugo-calade</a>这个主题。</p>
<p>hugo以及这个主题，一些默认的设置，比如数学公式，使用rstuio服务，中国比较难以加载。</p>
<h2 id="mathjax改成cdn服务">mathjax改成cdn服务</h2>
<p>在网站根目录下，\layouts\partials\foot_custom.html配置如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!--
</span><span style="color:#75715e">&lt;script src=&#34;//yihui.name/js/math-code.js&#34;&gt;&lt;/script&gt;
</span><span style="color:#75715e">&lt;script async src=&#34;//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML&#34;&gt;&lt;/script&gt;
</span><span style="color:#75715e">--&gt;</span>
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ &#34;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">js</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">center-image</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">js</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">relURL</span> <span style="color:#960050;background-color:#1e0010">}}&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;MathJax-script&#34;</span> <span style="color:#a6e22e">async</span>
  <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js&#34;</span>&gt;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">center</span>&gt;
<span style="color:#75715e">&lt;!--
</span><span style="color:#75715e">用户名自己修改，加入网站运行时间。
</span><span style="color:#75715e">--&gt;</span>
Liripo &lt;<span style="color:#f92672">SPAN</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">span_dt_dt</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color: #0196e3;&#34;</span>&gt;&lt;/<span style="color:#f92672">SPAN</span>&gt;
&lt;<span style="color:#f92672">SCRIPT</span> <span style="color:#a6e22e">language</span><span style="color:#f92672">=</span><span style="color:#e6db74">javascript</span>&gt;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">show_date_time</span>(){
window.<span style="color:#a6e22e">setTimeout</span>(<span style="color:#e6db74">&#34;show_date_time()&#34;</span>, <span style="color:#ae81ff">1000</span>);
<span style="color:#a6e22e">BirthDay</span><span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Date(<span style="color:#e6db74">&#34;7/8/2019 00:00:00&#34;</span>);<span style="color:#75715e">//日期自己修改
</span><span style="color:#75715e"></span><span style="color:#a6e22e">today</span><span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Date();
<span style="color:#a6e22e">timeold</span><span style="color:#f92672">=</span>(<span style="color:#a6e22e">today</span>.<span style="color:#a6e22e">getTime</span>()<span style="color:#f92672">-</span><span style="color:#a6e22e">BirthDay</span>.<span style="color:#a6e22e">getTime</span>());
<span style="color:#a6e22e">sectimeold</span><span style="color:#f92672">=</span><span style="color:#a6e22e">timeold</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1000</span>
<span style="color:#a6e22e">secondsold</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">sectimeold</span>);
<span style="color:#a6e22e">msPerDay</span><span style="color:#f92672">=</span><span style="color:#ae81ff">24</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>
<span style="color:#a6e22e">e_daysold</span><span style="color:#f92672">=</span><span style="color:#a6e22e">timeold</span><span style="color:#f92672">/</span><span style="color:#a6e22e">msPerDay</span>
<span style="color:#a6e22e">daysold</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">e_daysold</span>);
<span style="color:#a6e22e">e_hrsold</span><span style="color:#f92672">=</span>(<span style="color:#a6e22e">e_daysold</span><span style="color:#f92672">-</span><span style="color:#a6e22e">daysold</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">24</span>;
<span style="color:#a6e22e">hrsold</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">e_hrsold</span>);
<span style="color:#a6e22e">e_minsold</span><span style="color:#f92672">=</span>(<span style="color:#a6e22e">e_hrsold</span><span style="color:#f92672">-</span><span style="color:#a6e22e">hrsold</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>;
<span style="color:#a6e22e">minsold</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">e_hrsold</span><span style="color:#f92672">-</span><span style="color:#a6e22e">hrsold</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>);
<span style="color:#a6e22e">seconds</span><span style="color:#f92672">=</span>Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">e_minsold</span><span style="color:#f92672">-</span><span style="color:#a6e22e">minsold</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>);
<span style="color:#a6e22e">span_dt_dt</span>.<span style="color:#a6e22e">innerHTML</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">daysold</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;天&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">hrsold</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;小时&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">minsold</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;分&#34;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">seconds</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;秒&#34;</span>;
}
<span style="color:#a6e22e">show_date_time</span>();
&lt;/<span style="color:#f92672">SCRIPT</span>&gt;
&lt;/<span style="color:#f92672">center</span>&gt;
</code></pre></div><h2 id="添加不蒜子统计url访问数">添加不蒜子统计url访问数</h2>
<p><a href="http://busuanzi.ibruce.info/">不蒜子</a>是 Bruce 开发的一款轻量级的网页计数器,轻量。</p>
<p>可以看下文章:<a href="https://fuckcloudnative.io/posts/hugo-add-busuanzi/">https://fuckcloudnative.io/posts/hugo-add-busuanzi/</a>有说hugo怎么添加不蒜子，并修改初始访问人数，不过我没用。</p>
<p>我在hugo-calade\layouts\partials\footer.html改成如下配置：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">footer</span>&gt;
  <span style="color:#75715e">&lt;!-- highlight.js --&gt;</span>
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  <span style="color:#75715e">&lt;!-- and it&#39;s easy to individually load additional languages --&gt;</span>
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/r.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/python.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;

  &lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#a6e22e">hljs</span>.<span style="color:#a6e22e">configure</span>({<span style="color:#a6e22e">languages</span><span style="color:#f92672">:</span> []});
  <span style="color:#a6e22e">hljs</span>.<span style="color:#a6e22e">initHighlightingOnLoad</span>();
  &lt;/<span style="color:#f92672">script</span>&gt;
  <span style="color:#75715e">&lt;!--添加不蒜子--&gt;</span>
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_container_site_pv&#34;</span>&gt;本站总访问量&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id       </span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_site_pv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;次&lt;/<span style="color:#f92672">span</span>&gt;
  &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_container_site_uv&#34;</span>&gt;
    本站访客数&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_site_uv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;人次
&lt;/<span style="color:#f92672">span</span>&gt;
  <span style="color:#75715e">&lt;!----&gt;</span>
  {{ partial &#34;foot_custom.html&#34; . }}
  {{ with .Site.Params.footer }}
  &lt;<span style="color:#f92672">br</span>/&gt;&lt;<span style="color:#f92672">br</span>/&gt;
  {{ . | markdownify }}
  &lt;<span style="color:#f92672">br</span>/&gt;&lt;<span style="color:#f92672">br</span>/&gt;
  {{ end }}
&lt;/<span style="color:#f92672">footer</span>&gt;
</code></pre></div><p>在主题目录下，hugo-calade\layouts_default中的single.html(这个文件用于修改文章的html)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.LanguageCode }}&#34;</span>&gt;

  {{ partial &#34;header.html&#34; . }}

  &lt;<span style="color:#f92672">body</span>&gt;
    {{ partial &#34;header_image.html&#34; . }}

    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main-content&#34;</span>&gt;
      {{ partial &#34;menu_strip.html&#34; . }}
      {{ partial &#34;post_title.html&#34; . }}

      &lt;<span style="color:#f92672">main</span>&gt;
        {{ partial &#34;toc.html&#34; . }}
        {{ .Content }}
      &lt;/<span style="color:#f92672">main</span>&gt;

      {{ partial &#34;footer.html&#34; . }}

    &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>可以看到这个文件在body中引入了partial文件夹下的post_title.html等文件，我们修改post_title.html这文件如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">h1</span>&gt;{{ .Title | markdownify }}&lt;/<span style="color:#f92672">h1</span>&gt;
  &lt;<span style="color:#f92672">h3</span>&gt;
    {{ if (gt .Params.date 0) }}{{ .Date.Format &#34;02 Jan 2006&#34; }}{{ end }}
  &lt;/<span style="color:#f92672">h3</span>&gt;
   &lt;<span style="color:#f92672">h5</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wc&#34;</span>&gt;{{ .WordCount }} Words|Read in about {{ .ReadingTime }}       Min|本文总阅读量&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;busuanzi_value_page_pv&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;次&lt;/<span style="color:#f92672">h5</span>&gt;
    &lt;/<span style="color:#f92672">h5</span>&gt;
  &lt;<span style="color:#f92672">br</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p>这样就加入了文章的字数。不过hugo默认不统计中文，所以还需要在站点文件config.toml加入</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">#添加中文计数
hasCJKLanguage = true 
</code></pre></div><p>还有个注意点，就是那些没有缩进的配置应该放在</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">[permalinks]
</code></pre></div><p>等配置前面，才能识别。</p>
<h2 id="嵌入b站视频">嵌入B站视频</h2>
<p>参考文章：<a href="https://mogeko.me/2020/079/">https://mogeko.me/2020/079/</a></p>
<p>更多的，可以看这篇文章:<a href="https://www.xiangyunhuang.com.cn/2019/05/another-hello-markdown/">https://www.xiangyunhuang.com.cn/2019/05/another-hello-markdown/</a></p>
<h2 id="插入音乐">插入音乐</h2>
<p><a href="http://tool.liumingye.cn/music/">http://tool.liumingye.cn/music/</a>这网站下歌不错。</p>
<h2 id="修改表格样式">修改表格样式</h2>
<p>修改主题hugo-calade\static\css下的style.css文件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/* table formatting
</span><span style="color:#75715e">table {
</span><span style="color:#75715e">  margin: auto;
</span><span style="color:#75715e">  border-top: 1px solid #666;
</span><span style="color:#75715e">  border-bottom: 1px solid #666;
</span><span style="color:#75715e">}
</span><span style="color:#75715e">table thead th { border-bottom: 1px solid #ddd; }
</span><span style="color:#75715e">th, td { padding: 5px; }
</span><span style="color:#75715e">thead, tfoot, tr:nth-child(even) { background: #eee; }
</span><span style="color:#75715e">*/</span>
<span style="color:#f92672">table</span> {
  <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#000000</span>;
  <span style="color:#66d9ef">margin</span>: <span style="color:#66d9ef">auto</span>;
  <span style="color:#75715e">/*width: 100%;*/</span>
  <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
  <span style="color:#66d9ef">border-collapse</span>: <span style="color:#66d9ef">collapse</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">td</span><span style="color:#f92672">,</span> <span style="color:#f92672">table</span> <span style="color:#f92672">th</span> {
  <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#000000</span>;
  <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">tbody</span> <span style="color:#f92672">td</span> {
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">18</span><span style="color:#66d9ef">px</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">thead</span> {
  <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#CFCFCF</span>;
  <span style="color:#66d9ef">background</span>: <span style="color:#66d9ef">-moz-</span>linear-gradient(<span style="color:#66d9ef">top</span>, <span style="color:#ae81ff">#dbdbdb</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#d3d3d3</span> <span style="color:#ae81ff">66</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#CFCFCF</span> <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>);
  <span style="color:#66d9ef">background</span>: <span style="color:#66d9ef">-webkit-</span>linear-gradient(<span style="color:#66d9ef">top</span>, <span style="color:#ae81ff">#dbdbdb</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#d3d3d3</span> <span style="color:#ae81ff">66</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#CFCFCF</span> <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>);
  <span style="color:#66d9ef">background</span>: linear-gradient(<span style="color:#66d9ef">to</span> <span style="color:#66d9ef">bottom</span>, <span style="color:#ae81ff">#dbdbdb</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#d3d3d3</span> <span style="color:#ae81ff">66</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#CFCFCF</span> <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>);
  <span style="color:#66d9ef">border-bottom</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#000000</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">thead</span> <span style="color:#f92672">th</span> {
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#000000</span>;
  <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
  <span style="color:#66d9ef">font-family</span>: <span style="color:#e6db74">&#34;Arial Black&#34;</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">tfoot</span> {
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#000000</span>;
  <span style="color:#66d9ef">border-top</span>: <span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#000000</span>;
}
<span style="color:#f92672">table</span> <span style="color:#f92672">tfoot</span> <span style="color:#f92672">td</span> {
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
}
</code></pre></div><h2 id="hugo-markdown">hugo markdown</h2>
<p>hugo markdown是小于pandoc markdown的，所以想加入突出显示得改用html的mark标签。</p>
<p>为了hugo能够解析markdown文件中的html标签，可以在config.toml文件加入</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">[markup.goldmark.renderer]
unsafe = true
</code></pre></div><p>这样就可以增加mark等突出显示的标签了。具体详见：<a href="https://gohugo.io/news/0.60.0-relnotes/">https://gohugo.io/news/0.60.0-relnotes/</a></p>
<h2 id="引入谷歌字体">引入谷歌字体</h2>
<p>在主题的footer.html中加入</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://fonts.loli.net/css?family=Tangerine&#34;</span>&gt;
</code></pre></div><p>具体参考<a href="https://sb.sb/blog/css-cdn/">https://sb.sb/blog/css-cdn/</a>,将谷歌字体api，改为使用loli.net,<a href="https://developers.google.com/fonts/docs/getting_started">谷歌api</a>。</p>
<p>之后引入这个字体作为mark的css。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/*加入突出高亮*/</span>
<span style="color:#f92672">mark</span> {
  <span style="color:#66d9ef">font-family</span>: Tangerine;
  <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
  <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#333333</span>;
  <span style="color:#66d9ef">text-shadow</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">#aaa</span>;
}
</code></pre></div><h2 id="引入行内公式">引入行内公式</h2>
<p>我通常会用符号$作为一个行内数学公式的标识符。但是貌似现在除了Pandoc会解析外，其他都没有这个支持。</p>
<p><a href="https://yihui.org/cn/2017/04/mathjax-markdown/">https://yihui.org/cn/2017/04/mathjax-markdown/</a>提到了怎么修改。</p>
<p><a href="https://gohugo.io/getting-started/configuration-markup/#goldmark">https://gohugo.io/getting-started/configuration-markup/#goldmark</a>hugo配置文件教程。</p>
<p>目前默认使用goldmark渲染markdown。（注：没弄好。）</p>
<h2 id="修改table目录">修改table目录</h2>
<p>正如上面goldmark配置链接，默认</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"> [markup.tableOfContents]
    endLevel = 3
    ordered = false
    startLevel = 2
</code></pre></div><p>开始解析是从标题head2 开始，改成1开始。</p>
<h2 id="浮动目录">浮动目录</h2>
<p><a href="https://css-tricks.com/css-basics-styling-links-like-boss/">link链接修改</a></p>
<p><a href="https://fakedev.com/2020/hugo-custom-shortcodes-template.html">hugo shortcode</a></p>
<p><a href="https://linuxer.io/posts/hugo-toc/">hugo toc修改</a></p>
<p>对于普通的markdown文件，可以使用{{.TableOfContents}}进行设置，对于这个主题，你可以修改主题文件中的toc.html</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{ if (.Params.toc) }}
&lt;<span style="color:#f92672">aside</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;anchors-navbar&#39;</span>&gt;
  &lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fas fa-anchor&#39;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt;
  {{.TableOfContents}}
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">aside</span>&gt;
{{ end }}
</code></pre></div><p>之后根据class id属性修改css。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSS" data-lang="CSS"><span style="color:#75715e">/* formatting table of contents */</span>
#TableOfContents {
    <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#333399</span>;
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">table</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">75</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span>;
    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">width</span>: <span style="color:#66d9ef">auto</span>;
}
#anchors-navbar {
    <span style="color:#75715e">/*border: 1px solid;*/</span>
    <span style="color:#75715e">/*border-radius: 1px;*/</span>
    <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">box-shadow</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">30</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">teal</span>;
    <span style="color:#75715e">/*box-shadow: 0 6px 12px #333333;*/</span>
    <span style="color:#66d9ef">background-clip</span>: <span style="color:#66d9ef">padding-box</span>;
    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">fixed</span>;
    <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">68</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
    <span style="color:#75715e">/*white-space: nowrap;*/</span>
    <span style="color:#66d9ef">z-index</span>: <span style="color:#ae81ff">999</span>;
    <span style="color:#66d9ef">cursor</span>: <span style="color:#66d9ef">pointer</span>;
    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
    <span style="color:#66d9ef">max-height</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">overflow-y</span>: <span style="color:#66d9ef">auto</span>;
    <span style="color:#66d9ef">overflow-x</span>: <span style="color:#66d9ef">hidden</span>;
    <span style="color:#75715e">/*display: table;*/</span>
    <span style="color:#66d9ef">width</span>: <span style="color:#66d9ef">auto</span>;
    <span style="color:#66d9ef">max-width</span>: <span style="color:#ae81ff">300</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#333399</span>;
}

#anchors-navbar <span style="color:#f92672">ul</span>{
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">none</span>;
    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
    <span style="color:#66d9ef">padding-right</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">18</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">padding-top</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">list-style-type</span>: <span style="color:#66d9ef">lower-greek</span>;
    <span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
}

#anchors-navbar:<span style="color:#a6e22e">hover</span> <span style="color:#f92672">ul</span>{
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
}

#anchors-navbar <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> <span style="color:#f92672">a</span> {
    <span style="color:#66d9ef">text-decoration</span>: <span style="color:#66d9ef">none</span>;
    <span style="color:#66d9ef">border-bottom</span>: <span style="color:#66d9ef">none</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">18</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#ff69b4</span>;
    <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">text-overflow</span>: <span style="color:#66d9ef">ellipsis</span>;
    <span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
    <span style="color:#66d9ef">white-space</span>: <span style="color:#66d9ef">nowrap</span>;
    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
    <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
}

#anchors-navbar <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> <span style="color:#f92672">a</span>:<span style="color:#a6e22e">hover</span> {
    <span style="color:#66d9ef">text-decoration</span>: <span style="color:#66d9ef">underline</span>;
    <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#CCCCCC</span>;
}

#anchors-navbar <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> .<span style="color:#a6e22e">title-icon</span> {
    <span style="color:#66d9ef">padding-right</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span>;
}
.<span style="color:#a6e22e">fa-anchor</span> {
    <span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#FF6600</span>;
    <span style="color:#75715e">/*background-color: #333333;*/</span>
    <span style="color:#66d9ef">text-shadow</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">#ccc</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">em</span>;
}
</code></pre></div><p><strong>加入js</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">iterativeUL</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">$dom</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">li_list</span> <span style="color:#f92672">=</span> []
    <span style="color:#a6e22e">$dom</span>.<span style="color:#a6e22e">children</span>(<span style="color:#e6db74">&#34;li&#34;</span>).<span style="color:#a6e22e">each</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">item</span>) {
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_li</span> <span style="color:#f92672">=</span> { 
            <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">$</span>(<span style="color:#a6e22e">item</span>).<span style="color:#a6e22e">children</span>(<span style="color:#e6db74">&#34;a&#34;</span>).<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;href&#34;</span>), 
            <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">$</span>(<span style="color:#a6e22e">item</span>).<span style="color:#a6e22e">children</span>(<span style="color:#e6db74">&#34;a&#34;</span>).<span style="color:#a6e22e">text</span>(),
            <span style="color:#a6e22e">children</span><span style="color:#f92672">:</span> []
        }   
        <span style="color:#a6e22e">$sub_ul</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#a6e22e">item</span>).<span style="color:#a6e22e">children</span>(<span style="color:#e6db74">&#34;ul&#34;</span>)
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">$sub_ul</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#a6e22e">_li</span>.<span style="color:#a6e22e">children</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">iterativeUL</span>(<span style="color:#a6e22e">$sub_ul</span>)
        }   
        <span style="color:#a6e22e">li_list</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">_li</span>)
    })  
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">li_list</span>
};
<span style="color:#a6e22e">iterativeUI</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">root</span>, <span style="color:#a6e22e">template</span>, <span style="color:#a6e22e">prefix</span>) {
    <span style="color:#a6e22e">template</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;&lt;ul&gt;&#34;</span>
    <span style="color:#a6e22e">$</span>.<span style="color:#a6e22e">each</span>(<span style="color:#a6e22e">root</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">item</span>) {
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">next_prefix</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">prefix</span> <span style="color:#f92672">+</span> String(<span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;.&#34;</span> 
        <span style="color:#a6e22e">template</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#39;&lt;li&gt;&#39;</span><span style="color:#f92672">+</span>
                        <span style="color:#e6db74">&#39;&lt;i class=&#34;fa fa-hand-o-right&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;&#39;</span><span style="color:#f92672">+</span>
                        <span style="color:#e6db74">&#39;&lt;span class=&#34;title-icon &#34;&gt;&lt;/span&gt;&#39;</span><span style="color:#f92672">+</span>
                        <span style="color:#e6db74">&#39;&lt;a href=&#34;99991997&#34;&gt;&lt;b&gt;99991998  &lt;/b&gt;99991999&lt;/a&gt;&#39;</span>
                           .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;99991997&#34;</span>, <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">url</span>)
                           .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;99991999&#34;</span>, <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">name</span>)
                           .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;99991998&#34;</span>, <span style="color:#a6e22e">next_prefix</span>) <span style="color:#f92672">+</span>
                    <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span>
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">children</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
            <span style="color:#a6e22e">template</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">iterativeUI</span>(<span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">children</span>, <span style="color:#a6e22e">template</span>, <span style="color:#a6e22e">next_prefix</span>)
        }   
    })  
    <span style="color:#a6e22e">template</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;&lt;/ul&gt;&#34;</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">template</span>
};
<span style="color:#a6e22e">initNavigations</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>() {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">$navigations</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#TableOfContents&#34;</span>);
    <span style="color:#75715e">/* 这是个大坑, 需要大于号&gt;来限制只选择一级子元素，否则会有多组ul被匹配到 */</span>
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">root</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">iterativeUL</span>(<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#TableOfContents &gt; ul&#34;</span>))
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">root</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>) {
        <span style="color:#66d9ef">return</span>;
    }

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">html</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">iterativeUI</span>(<span style="color:#a6e22e">root</span>, <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>)

    <span style="color:#75715e">//重新替换Toc模板
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">$navigations</span>.<span style="color:#a6e22e">html</span>(<span style="color:#a6e22e">html</span>)

    <span style="color:#75715e">//由于导航栏固定,所以调整目录锚点往上偏移导航栏高度的距离
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">fixSet</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#main-navbar&#34;</span>).<span style="color:#a6e22e">height</span>() <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span>; 
    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;nav#TableOfContents a[href^=&#34;#&#34;][href!=&#34;#&#34;]&#39;</span>).<span style="color:#a6e22e">click</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">e</span>) {
        <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">preventDefault</span>();
        <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;html, body&#39;</span>).<span style="color:#a6e22e">animate</span>({<span style="color:#a6e22e">scrollTop</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">$</span>(decodeURI(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">hash</span>)).<span style="color:#a6e22e">offset</span>().<span style="color:#a6e22e">top</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">fixSet</span>}, <span style="color:#ae81ff">400</span>);
    }); 
};
</code></pre></div><p>至于Rmarkdown,你可以修改后缀名.Rmd为.Rmarkdown,这两个区别见<a href="https://bookdown.org/yihui/blogdown/output-format.html">https://bookdown.org/yihui/blogdown/output-format.html</a></p>
<p>或者knitr编译成.md文件，然后由hugo解析。</p>
<p><a href="http://estebanmoro.org/post/2019-02-04-setting-up-your-blog-with-rstudio-and-blogdown-iii-modify-your-theme/">http://estebanmoro.org/post/2019-02-04-setting-up-your-blog-with-rstudio-and-blogdown-iii-modify-your-theme/</a></p>
<p><a href="https://dadascience.design/post/r-some-tricks-when-working-with-blogdown-hugo-working-draft/">https://dadascience.design/post/r-some-tricks-when-working-with-blogdown-hugo-working-draft/</a></p>
<p>当然，最好的方法是直接修改blogdown的pandoc模板，blogdown运行<code>blogdown::serve_site</code>等函数使用bloddown::html_page直接生成.html文件的，中间是使用pandoc进行markdown解析的。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">blogdown<span style="color:#f92672">:::</span><span style="color:#a6e22e">pkg_file</span>(<span style="color:#e6db74">&#39;resources&#39;</span>, <span style="color:#e6db74">&#39;template-minimal.html&#39;</span>)
</code></pre></div><p>可以找到这个简单的模板文件。</p>
<p>原来的：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">$</span><span style="color:#a6e22e">if</span>(toc)<span style="color:#f92672">$</span>
<span style="color:#f92672">&lt;</span>div id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$idprefix$TOC&#34;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">$</span>toc<span style="color:#f92672">$</span>
<span style="color:#f92672">$</span>endif<span style="color:#f92672">$</span>
</code></pre></div><p>可以加上刚刚使用toc float的类</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">$</span><span style="color:#a6e22e">if</span>(toc)<span style="color:#f92672">$</span>
<span style="color:#f92672">&lt;</span>aside<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span>div id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;anchors-navbar&#39;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span>i class<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fas fa-anchor&#39;</span><span style="color:#f92672">&gt;&lt;/</span>i<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span>div id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$idprefix$TOC&#34;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">$</span>toc<span style="color:#f92672">$</span>
<span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;/</span>aside<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">$</span>endif<span style="color:#f92672">$</span>
</code></pre></div><p>这样就解决了。</p>
<p>但是这样可不是长久之计，毕竟一更新这个包不就没了。</p>
<p>还有高亮跟加入toc在yaml中使用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">output<span style="color:#f92672">:</span>
  blogdown<span style="color:#f92672">::</span>html_page<span style="color:#f92672">:</span>
    highlight<span style="color:#f92672">:</span> zenburn
    toc<span style="color:#f92672">:</span> true
</code></pre></div><p>发现只有这个高亮适合这主题。</p>
<h2 id="添加分页"><strong>添加分页</strong></h2>
<p><a href="https://bookdown.org/yihui/blogdown/templates.html#how-to">https://bookdown.org/yihui/blogdown/templates.html#how-to</a></p>
<p><a href="https://lvv.me/posts/2019/12/26_hugo_theme_dev_tips/">https://lvv.me/posts/2019/12/26_hugo_theme_dev_tips/</a></p>
<p>最后我的list文件是这样的</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.LanguageCode }}&#34;</span>&gt;

{{ partial &#34;header.html&#34; . }}

&lt;<span style="color:#f92672">body</span>&gt;
{{ partial &#34;default_header_image.html&#34; . }}

&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main-content 
</span><span style="color:#e6db74">site-main section-inner thin animated fadeIn faster&#34;</span>&gt;

{{ partial &#34;menu_strip.html&#34; . }}

&lt;<span style="color:#f92672">h1</span>&gt;{{ .Title | markdownify }}&lt;/<span style="color:#f92672">h1</span>&gt;

{{ .Content }}

&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylistcontainer&#34;</span>&gt;
&lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylist&#34;</span>&gt;
  <span style="color:#75715e">&lt;!-- range (where .Data.Pages &#34;Section&#34; &#34;!=&#34; &#34;&#34;) --&gt;</span>
   {{ $paginator := .Paginate .Data.Pages }}
   {{ range $paginator.Pages }}
&lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylist&#34;</span>&gt;
&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylist&#34;</span>&gt;
&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .URL }}&#34;</span>&gt;{{ .Title | markdownify }}&lt;/<span style="color:#f92672">a</span>&gt;&amp;nbsp;&amp;nbsp;
&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prettylistdate&#34;</span>&gt;{{ .Date.Format &#34;02 Jan 2006&#34; }}&lt;/<span style="color:#f92672">span</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;posts-group&#34;</span>&gt;

      
            
            
&lt;<span style="color:#f92672">br</span>&gt;
<span style="color:#75715e">&lt;!-- 
</span><span style="color:#75715e">&lt;span class=&#34;prettylistsummary&#34;&gt;{{ .Summary | markdownify }}&lt;/span&gt;
</span><span style="color:#75715e">--&gt;</span>
&lt;/<span style="color:#f92672">p</span>&gt;
&lt;/<span style="color:#f92672">li</span>&gt;
{{ end }}
&lt;/<span style="color:#f92672">ul</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
{{ partial &#34;pagination.html&#34; . }} 
{{ partial &#34;footer.html&#34; . }}

&lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>\partial目录下的pagination.html文件如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"> {{ if or (.Paginator.HasPrev) (.Paginator.HasNext) }}
 &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pagination&#34;</span>&gt;
     {{- if .Paginator.HasPrev }}
     &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pagination__item pagination__item--prev btn&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Paginator.Prev.URL }}&#34;</span>&gt;«&lt;/<span style="color:#f92672">a</span>&gt;
     {{- end }}
     &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pagination__item pagination__item--current&#34;</span>&gt;{{ .Paginator.PageNumber }}/{{ .Paginator.TotalPages }}&lt;/<span style="color:#f92672">span</span>&gt;
     {{- if .Paginator.HasNext }}
     &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pagination__item pagination__item--next btn&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Paginator.Next.URL }}&#34;</span>&gt;»&lt;/<span style="color:#f92672">a</span>&gt;
     {{- end }}
 &lt;/<span style="color:#f92672">div</span>&gt;
 {{ end }}  
</code></pre></div><p>之后就是加css了，</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/*增加文章分页css*/</span>
.<span style="color:#a6e22e">pagination</span> {
   <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>
}

.<span style="color:#a6e22e">pagination__item</span> {
  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline</span><span style="color:#f92672">-</span><span style="color:#66d9ef">block</span>;
  <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">15</span><span style="color:#66d9ef">px</span>;
   <span style="color:#66d9ef">font-weight</span>: <span style="color:#ae81ff">700</span>;
   <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#333333</span>;
   <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#336633</span>
}

.<span style="color:#a6e22e">pagination__item</span>:<span style="color:#a6e22e">hover</span><span style="color:#f92672">,</span> .<span style="color:#a6e22e">pagination__item--current</span> {
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#fff</span>;
  <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#535e75</span>
}
</code></pre></div><p>每页显示多少文章数，在站点配置文件改,默认10。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">Paginate <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</code></pre></div><p>具体看文章:<a href="https://fffou.com/post/2020-05-14/">https://fffou.com/post/2020-05-14/</a></p>
<h2 id="添加rss">添加RSS</h2>
<p>hugo默认有RSS，你仔细看你的网站会发现有一个index.xml文件，但是谷歌插件不会自动识别这个文件，必须打开，不大友好。</p>
<p>在header.html添加，</p>
<pre><code>&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; href=&quot;https://liripo.github.io/index.xml&quot; title=&quot;Liripo&quot;&gt;
</code></pre><p>这样会在你整个网站添加链接，不想的话可以只添加到你的主页。</p>
<h2 id="添加站内搜素">添加站内搜素</h2>
<p><a href="https://palant.info/2020/06/04/the-easier-way-to-use-lunr-search-with-hugo/">https://palant.info/2020/06/04/the-easier-way-to-use-lunr-search-with-hugo/</a></p>
<p>我使用如下教程:</p>
<p><a href="https://gist.github.com/cmod/5410eae147e4318164258742dd053993">https://gist.github.com/cmod/5410eae147e4318164258742dd053993</a></p>
<p>除了文件需要修改下，其余均如文档所述，运行<code>CMD+/</code>即可对站内进行检索。</p>
<p>里面的fastsearch,js更改如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">fuse</span>; <span style="color:#75715e">// holds our search engine
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">searchVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>; 
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">firstRun</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>; <span style="color:#75715e">// allow us to delay loading json data unless search activated
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">list</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;searchResults&#39;</span>); <span style="color:#75715e">// targets the &lt;ul&gt;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">first</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>.<span style="color:#a6e22e">firstChild</span>; <span style="color:#75715e">// first child of search list
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">last</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>.<span style="color:#a6e22e">lastChild</span>; <span style="color:#75715e">// last child of search list
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">maininput</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;searchInput&#39;</span>); <span style="color:#75715e">// input box for search
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">resultsAvailable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>; <span style="color:#75715e">// Did we get any search results?
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// ==========================================
</span><span style="color:#75715e">// The main keyboard event listener running the show
</span><span style="color:#75715e">//
</span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;keydown&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">event</span>) {

  <span style="color:#75715e">// CMD-/ to show / hide Search
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">metaKey</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">which</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">191</span>) {
      <span style="color:#75715e">// Load json search index if first time invoking search
</span><span style="color:#75715e"></span>      <span style="color:#75715e">// Means we don&#39;t load json unless searches are going to happen; keep user payload small unless needed
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">firstRun</span>) {
        <span style="color:#a6e22e">loadSearch</span>(); <span style="color:#75715e">// loads our json data and builds fuse.js search index
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">firstRun</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>; <span style="color:#75715e">// let&#39;s never do this again
</span><span style="color:#75715e"></span>      }

      <span style="color:#75715e">// Toggle visibility of search box
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">searchVisible</span>) {
        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;fastSearch&#34;</span>).<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">visibility</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;visible&#34;</span>; <span style="color:#75715e">// show search box
</span><span style="color:#75715e"></span>        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;searchInput&#34;</span>).<span style="color:#a6e22e">focus</span>(); <span style="color:#75715e">// put focus in input box so you can just start typing
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">searchVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>; <span style="color:#75715e">// search visible
</span><span style="color:#75715e"></span>      }
      <span style="color:#66d9ef">else</span> {
        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;fastSearch&#34;</span>).<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">visibility</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hidden&#34;</span>; <span style="color:#75715e">// hide search box
</span><span style="color:#75715e"></span>        document.<span style="color:#a6e22e">activeElement</span>.<span style="color:#a6e22e">blur</span>(); <span style="color:#75715e">// remove focus from search box 
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">searchVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>; <span style="color:#75715e">// search not visible
</span><span style="color:#75715e"></span>      }
  }

  <span style="color:#75715e">// Allow ESC (27) to close search box
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">keyCode</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">27</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">searchVisible</span>) {
      document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;fastSearch&#34;</span>).<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">visibility</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hidden&#34;</span>;
      document.<span style="color:#a6e22e">activeElement</span>.<span style="color:#a6e22e">blur</span>();
      <span style="color:#a6e22e">searchVisible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
    }
  }

  <span style="color:#75715e">// DOWN (40) arrow
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">keyCode</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">40</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">searchVisible</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">resultsAvailable</span>) {
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;down&#34;</span>);
      <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>(); <span style="color:#75715e">// stop window from scrolling
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> ( document.<span style="color:#a6e22e">activeElement</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">maininput</span>) { <span style="color:#a6e22e">first</span>.<span style="color:#a6e22e">focus</span>(); } <span style="color:#75715e">// if the currently focused element is the main input --&gt; focus the first &lt;li&gt;
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> ( document.<span style="color:#a6e22e">activeElement</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">last</span> ) { <span style="color:#a6e22e">last</span>.<span style="color:#a6e22e">focus</span>(); } <span style="color:#75715e">// if we&#39;re at the bottom, stay there
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">else</span> { document.<span style="color:#a6e22e">activeElement</span>.<span style="color:#a6e22e">parentElement</span>.<span style="color:#a6e22e">nextSibling</span>.<span style="color:#a6e22e">firstElementChild</span>.<span style="color:#a6e22e">focus</span>(); } <span style="color:#75715e">// otherwise select the next search result
</span><span style="color:#75715e"></span>    }
  }

  <span style="color:#75715e">// UP (38) arrow
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">keyCode</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">38</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">searchVisible</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">resultsAvailable</span>) {
      <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>(); <span style="color:#75715e">// stop window from scrolling
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> ( document.<span style="color:#a6e22e">activeElement</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">maininput</span>) { <span style="color:#a6e22e">maininput</span>.<span style="color:#a6e22e">focus</span>(); } <span style="color:#75715e">// If we&#39;re in the input box, do nothing
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> ( document.<span style="color:#a6e22e">activeElement</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">first</span>) { <span style="color:#a6e22e">maininput</span>.<span style="color:#a6e22e">focus</span>(); } <span style="color:#75715e">// If we&#39;re at the first item, go to input box
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">else</span> { document.<span style="color:#a6e22e">activeElement</span>.<span style="color:#a6e22e">parentElement</span>.<span style="color:#a6e22e">previousSibling</span>.<span style="color:#a6e22e">firstElementChild</span>.<span style="color:#a6e22e">focus</span>(); } <span style="color:#75715e">// Otherwise, select the search result above the current active one
</span><span style="color:#75715e"></span>    }
  }
});


<span style="color:#75715e">// ==========================================
</span><span style="color:#75715e">// execute search as each character is typed
</span><span style="color:#75715e">//
</span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;searchInput&#34;</span>).<span style="color:#a6e22e">onkeyup</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">e</span>) { 
  <span style="color:#a6e22e">executeSearch</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">value</span>);
}


<span style="color:#75715e">// ==========================================
</span><span style="color:#75715e">// fetch some json without jquery
</span><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fetchJSONFile</span>(<span style="color:#a6e22e">path</span>, <span style="color:#a6e22e">callback</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">httpRequest</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">XMLHttpRequest</span>();
  <span style="color:#a6e22e">httpRequest</span>.<span style="color:#a6e22e">onreadystatechange</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">httpRequest</span>.<span style="color:#a6e22e">readyState</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">4</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">httpRequest</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">200</span>) {
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">httpRequest</span>.<span style="color:#a6e22e">responseText</span>);
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">callback</span>) <span style="color:#a6e22e">callback</span>(<span style="color:#a6e22e">data</span>);
      }
    }
  };
  <span style="color:#a6e22e">httpRequest</span>.<span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#39;GET&#39;</span>, <span style="color:#a6e22e">path</span>);
  <span style="color:#a6e22e">httpRequest</span>.<span style="color:#a6e22e">send</span>(); 
}


<span style="color:#75715e">// ==========================================
</span><span style="color:#75715e">// load our search index, only executed once
</span><span style="color:#75715e">// on first call of search box (CMD-/)
</span><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">loadSearch</span>() { 
  <span style="color:#a6e22e">fetchJSONFile</span>(<span style="color:#e6db74">&#39;/index.json&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">data</span>){

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> { <span style="color:#75715e">// fuse.js options; check fuse.js website for details
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">shouldSort</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
      <span style="color:#a6e22e">location</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
      <span style="color:#a6e22e">distance</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>,
      <span style="color:#a6e22e">threshold</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0.4</span>,
      <span style="color:#a6e22e">minMatchCharLength</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>,
      <span style="color:#a6e22e">keys</span><span style="color:#f92672">:</span> [
        <span style="color:#e6db74">&#39;title&#39;</span>,
        <span style="color:#e6db74">&#39;permalink&#39;</span>,
        <span style="color:#e6db74">&#39;tags&#39;</span>,
        <span style="color:#e6db74">&#39;content&#39;</span>
        ]
    };
    <span style="color:#a6e22e">fuse</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Fuse</span>(<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">options</span>); <span style="color:#75715e">// build the index from the json file
</span><span style="color:#75715e"></span>  });
}


<span style="color:#75715e">// ==========================================
</span><span style="color:#75715e">// using the index we loaded on CMD-/, run 
</span><span style="color:#75715e">// a search query (for &#34;term&#34;) every time a letter is typed
</span><span style="color:#75715e">// in the search box
</span><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">executeSearch</span>(<span style="color:#a6e22e">term</span>) {
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">results</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fuse</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">term</span>); <span style="color:#75715e">// the actual query being run using fuse.js
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">searchitems</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>; <span style="color:#75715e">// our results bucket
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">results</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) { <span style="color:#75715e">// no results based on what was typed into the input box
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">resultsAvailable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
    <span style="color:#a6e22e">searchitems</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
  } <span style="color:#66d9ef">else</span> { <span style="color:#75715e">// build our html 
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">item</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">results</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5</span>)) { <span style="color:#75715e">// only show first 5 results
</span><span style="color:#75715e"></span>       <span style="color:#a6e22e">searchitems</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">searchitems</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;li&gt;&lt;a href=&#34;&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">results</span>[<span style="color:#a6e22e">item</span>].<span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">permalink</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&#34; tabindex=&#34;0&#34;&gt;&#39;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;span class=&#34;title&#34;&gt;&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">results</span>[<span style="color:#a6e22e">item</span>].<span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;sc&#34;&gt;&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">results</span>[<span style="color:#a6e22e">item</span>].<span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">tags</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;&#39;</span>;
    }
    <span style="color:#a6e22e">resultsAvailable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
  }

  document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;searchResults&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">searchitems</span>;
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">results</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
    <span style="color:#a6e22e">first</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>.<span style="color:#a6e22e">firstChild</span>.<span style="color:#a6e22e">firstElementChild</span>; <span style="color:#75715e">// first result container — used for checking against keyboard up/down location
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">last</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>.<span style="color:#a6e22e">lastChild</span>.<span style="color:#a6e22e">firstElementChild</span>; <span style="color:#75715e">// last result container — used for checking against keyboard up/down location
</span><span style="color:#75715e"></span>  }
}
</code></pre></div><p>serach.css如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">#fastSearch { 
  <span style="color:#66d9ef">visibility</span>: <span style="color:#66d9ef">hidden</span>;
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">fixed</span>;
  <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline</span><span style="color:#f92672">-</span><span style="color:#66d9ef">block</span>;
  <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">300</span><span style="color:#66d9ef">px</span>;
}      

#fastSearch <span style="color:#f92672">input</span> { 
  <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
  <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">31</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">1.6</span><span style="color:#66d9ef">em</span>;
  <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#aaa</span>;
  <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
  <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#000</span>;
  <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">border</span>: <span style="color:#66d9ef">none</span>;
  <span style="color:#66d9ef">outline</span>: <span style="color:#66d9ef">none</span>;
  <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline</span><span style="color:#f92672">-</span><span style="color:#66d9ef">block</span>;
}

#searchResults <span style="color:#f92672">li</span> { 
  <span style="color:#66d9ef">list-style</span>: <span style="color:#66d9ef">none</span>; 
  <span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">em</span>;
  <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#333</span>; 
  <span style="color:#66d9ef">border-bottom</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">dotted</span> <span style="color:#ae81ff">#000</span>;
}
  #searchResults <span style="color:#f92672">li</span> .<span style="color:#a6e22e">title</span> { <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">1.1</span><span style="color:#66d9ef">em</span>; <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline</span><span style="color:#f92672">-</span><span style="color:#66d9ef">block</span>;}

#searchResults { <span style="color:#66d9ef">visibility</span>: <span style="color:#66d9ef">inherit</span>; <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline</span><span style="color:#f92672">-</span><span style="color:#66d9ef">block</span>; <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">320</span><span style="color:#66d9ef">px</span>; }
#searchResults <span style="color:#f92672">a</span> { <span style="color:#66d9ef">text-decoration</span>: <span style="color:#66d9ef">none</span> <span style="color:#75715e">!important</span>; <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline</span><span style="color:#f92672">-</span><span style="color:#66d9ef">block</span>; }
  #searchResults <span style="color:#f92672">a</span>:<span style="color:#a6e22e">hover</span><span style="color:#f92672">,</span> <span style="color:#f92672">a</span>:<span style="color:#a6e22e">focus</span> { <span style="color:#66d9ef">outline</span>: <span style="color:#ae81ff">0</span>; <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#666</span>; <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#fff</span>; }
</code></pre></div><p>index.json如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{<span style="color:#960050;background-color:#1e0010">{-</span> <span style="color:#960050;background-color:#1e0010">$.Scratch.Add</span> <span style="color:#f92672">&#34;index&#34;</span> <span style="color:#960050;background-color:#1e0010">slice</span> <span style="color:#960050;background-color:#1e0010">-</span>}<span style="color:#960050;background-color:#1e0010">}</span>
{<span style="color:#960050;background-color:#1e0010">{-</span> <span style="color:#960050;background-color:#1e0010">range</span> <span style="color:#960050;background-color:#1e0010">.Site.Pages</span> <span style="color:#960050;background-color:#1e0010">-</span>}<span style="color:#960050;background-color:#1e0010">}</span>{<span style="color:#960050;background-color:#1e0010">{-</span> <span style="color:#960050;background-color:#1e0010">$.Scratch.Add</span> <span style="color:#f92672">&#34;index&#34;</span> <span style="color:#960050;background-color:#1e0010">(dict</span> <span style="color:#e6db74">&#34;title&#34;</span> <span style="color:#960050;background-color:#1e0010">.Title</span> <span style="color:#e6db74">&#34;tags&#34;</span> <span style="color:#960050;background-color:#1e0010">.Params.tags</span> <span style="color:#e6db74">&#34;content&#34;</span> <span style="color:#960050;background-color:#1e0010">.Plain</span> <span style="color:#e6db74">&#34;permalink&#34;</span> <span style="color:#960050;background-color:#1e0010">.Permalink</span> <span style="color:#e6db74">&#34;date&#34;</span> <span style="color:#960050;background-color:#1e0010">.Params.date)</span> <span style="color:#960050;background-color:#1e0010">-</span>}<span style="color:#960050;background-color:#1e0010">}</span>{<span style="color:#960050;background-color:#1e0010">{-</span> <span style="color:#960050;background-color:#1e0010">end</span> <span style="color:#960050;background-color:#1e0010">-</span>}<span style="color:#960050;background-color:#1e0010">}</span>
{<span style="color:#960050;background-color:#1e0010">{-</span> <span style="color:#960050;background-color:#1e0010">$.Scratch.Get</span> <span style="color:#f92672">&#34;index&#34;</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#960050;background-color:#1e0010">jsonify</span> <span style="color:#960050;background-color:#1e0010">-</span>}<span style="color:#960050;background-color:#1e0010">}</span>
</code></pre></div></article>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<div class="utterances"></div>

<script>
    var systemThemeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
    var systemTheme = systemThemeMediaQuery.matches ? 'dark' : 'light';
    var utterancesTheme = systemTheme === 'dark' ? 'github-dark' : 'github-light';
    var utterancesScript = document.createElement('script');
    utterancesScript.src = 'https://utteranc.es/client.js';
    utterancesScript.setAttribute('repo', 'liripo\/liripo.github.io');
    utterancesScript.setAttribute('issue-term', 'title');
    utterancesScript.setAttribute('theme', utterancesTheme);
    utterancesScript.setAttribute('crossorigin', 'anonymous');
    utterancesScript.setAttribute('async', '');
    document.querySelector('.utterances').appendChild(utterancesScript);
</script>
<noscript>Please enable JavaScript to view the comments</noscript>


  <div class="footer container-lg width-full p-responsive" role="contentinfo">
    <div
        class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
        <ul
            class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
            <li class="mr-3 mr-lg-0">Liripo</a></li>
        </ul>

        <a aria-label="Homepage" title="Liripo" class="footer-octicon d-none d-lg-block mx-lg-4"
            href="https://liripo.github.io">
            <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24"
                aria-hidden="true">
                <path fill-rule="evenodd"
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                </path>
            </svg>
        </a>
        <ul
            class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        </ul>
    </div>
    <div class="d-flex flex-justify-center pb-6">
        <span class="f6 text-gray-light"></span>
    </div>
</div>

<script crossorigin="anonymous"
    type="application/javascript" src="https://liripo.github.io/js/frameworks.js"></script>

<script crossorigin="anonymous"
    type="application/javascript" src="https://liripo.github.io/js/github-bootstrap.js"></script>
<script src="https://liripo.github.io/js/stop.js"></script>
<script src="https://liripo.github.io/js/contributions.js"></script>

</body>

</html>